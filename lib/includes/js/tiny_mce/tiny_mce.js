(function(d){var c=/^\s*|\s*$/g,e,b="B".replace(/A(.)|B/,"$1")==="$1";var a={majorVersion:"3",minorVersion:"4",releaseDate:"2011-02-xx",_init:function(){var s=this,q=document,m=navigator,g=m.userAgent,l,f,k,j,h,r;s.isOpera=d.opera&&opera.buildNumber;s.isWebKit=/WebKit/.test(g);s.isIE=!s.isWebKit&&!s.isOpera&&(/MSIE/gi).test(g)&&(/Explorer/gi).test(m.appName);s.isIE6=s.isIE&&/MSIE [56]/.test(g);s.isGecko=!s.isWebKit&&/Gecko/.test(g);s.isMac=g.indexOf("Mac")!=-1;s.isAir=/adobeair/i.test(g);s.isIDevice=/(iPad|iPhone)/.test(g);if(d.tinyMCEPreInit){s.suffix=tinyMCEPreInit.suffix;s.baseURL=tinyMCEPreInit.base;s.query=tinyMCEPreInit.query;return}s.suffix="";f=q.getElementsByTagName("base");for(l=0;l<f.length;l++){if(r=f[l].href){if(/^https?:\/\/[^\/]+$/.test(r)){r+="/"}j=r?r.match(/.*\//)[0]:""}}function o(i){if(i.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(i.src)){if(/_(src|dev)\.js/g.test(i.src)){s.suffix="_src"}if((h=i.src.indexOf("?"))!=-1){s.query=i.src.substring(h+1)}s.baseURL=i.src.substring(0,i.src.lastIndexOf("/"));if(j&&s.baseURL.indexOf("://")==-1&&s.baseURL.indexOf("/")!==0){s.baseURL=j+s.baseURL}return s.baseURL}return null}f=q.getElementsByTagName("script");for(l=0;l<f.length;l++){if(o(f[l])){return}}k=q.getElementsByTagName("head")[0];if(k){f=k.getElementsByTagName("script");for(l=0;l<f.length;l++){if(o(f[l])){return}}}return},is:function(g,f){if(!f){return g!==e}if(f=="array"&&(g.hasOwnProperty&&g instanceof Array)){return true}return typeof(g)==f},makeMap:function(f,j,h){var g;f=f||[];j=j||",";if(typeof(f)=="string"){f=f.split(j)}h=h||{};g=f.length;while(g--){h[f[g]]={}}return h},each:function(i,f,h){var j,g;if(!i){return 0}h=h||i;if(i.length!==e){for(j=0,g=i.length;j<g;j++){if(f.call(h,i[j],j,i)===false){return 0}}}else{for(j in i){if(i.hasOwnProperty(j)){if(f.call(h,i[j],j,i)===false){return 0}}}}return 1},map:function(g,h){var i=[];a.each(g,function(f){i.push(h(f))});return i},grep:function(g,h){var i=[];a.each(g,function(f){if(!h||h(f)){i.push(f)}});return i},inArray:function(g,h){var j,f;if(g){for(j=0,f=g.length;j<f;j++){if(g[j]===h){return j}}}return -1},extend:function(k,j){var h,g,f=arguments;for(h=1,g=f.length;h<g;h++){j=f[h];a.each(j,function(i,l){if(i!==e){k[l]=i}})}return k},trim:function(f){return(f?""+f:"").replace(c,"")},create:function(o,g,i){var n=this,f,j,l,k,h,m=0;o=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(o);l=o[3].match(/(^|\.)(\w+)$/i)[2];j=n.createNS(o[3].replace(/\.\w+$/,""),i);if(j[l]){return}if(o[2]=="static"){j[l]=g;if(this.onCreate){this.onCreate(o[2],o[3],j[l])}return}if(!g[l]){g[l]=function(){};m=1}j[l]=g[l];n.extend(j[l].prototype,g);if(o[5]){f=n.resolve(o[5]).prototype;k=o[5].match(/\.(\w+)$/i)[1];h=j[l];if(m){j[l]=function(){return f[k].apply(this,arguments)}}else{j[l]=function(){this.parent=f[k];return h.apply(this,arguments)}}j[l].prototype[l]=j[l];n.each(f,function(p,q){j[l].prototype[q]=f[q]});n.each(g,function(p,q){if(f[q]){j[l].prototype[q]=function(){this.parent=f[q];return p.apply(this,arguments)}}else{if(q!=l){j[l].prototype[q]=p}}})}n.each(g["static"],function(p,q){j[l][q]=p});if(this.onCreate){this.onCreate(o[2],o[3],j[l].prototype)}},walk:function(i,h,j,g){g=g||this;if(i){if(j){i=i[j]}a.each(i,function(k,f){if(h.call(g,k,f,j)===false){return false}a.walk(k,h,j,g)})}},createNS:function(j,h){var g,f;h=h||d;j=j.split(".");for(g=0;g<j.length;g++){f=j[g];if(!h[f]){h[f]={}}h=h[f]}return h},resolve:function(j,h){var g,f;h=h||d;j=j.split(".");for(g=0,f=j.length;g<f;g++){h=h[j[g]];if(!h){break}}return h},addUnload:function(j,i){var g=this;j={func:j,scope:i||this};if(!g.unloads){function h(){var f=g.unloads,l,m;if(f){for(m in f){l=f[m];if(l&&l.func){l.func.call(l.scope,1)}}if(d.detachEvent){d.detachEvent("onbeforeunload",k);d.detachEvent("onunload",h)}else{if(d.removeEventListener){d.removeEventListener("unload",h,false)}}g.unloads=l=f=w=h=0;if(d.CollectGarbage){CollectGarbage()}}}function k(){var l=document;if(l.readyState=="interactive"){function f(){l.detachEvent("onstop",f);if(h){h()}l=0}if(l){l.attachEvent("onstop",f)}d.setTimeout(function(){if(l){l.detachEvent("onstop",f)}},0)}}if(d.attachEvent){d.attachEvent("onunload",h);d.attachEvent("onbeforeunload",k)}else{if(d.addEventListener){d.addEventListener("unload",h,false)}}g.unloads=[j]}else{g.unloads.push(j)}return j},removeUnload:function(i){var g=this.unloads,h=null;a.each(g,function(j,f){if(j&&j.func==i){g.splice(f,1);h=i;return false}});return h},explode:function(f,g){return f?a.map(f.split(g||","),a.trim):f},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf("?")==-1?"?":"&")+this.query;if(g.indexOf("#")==-1){return g+f}return g.replace("#",f+"#")},_replace:function(h,f,g){if(b){return g.replace(h,function(){var l=f,j=arguments,k;for(k=0;k<j.length-2;k++){if(j[k]===e){l=l.replace(new RegExp("\\$"+k,"g"),"")}else{l=l.replace(new RegExp("\\$"+k,"g"),j[k])}}return l})}return g.replace(h,f)}};a._init();d.tinymce=d.tinyMCE=a})(window);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(a,b){this.listeners.push({cb:a,scope:b||this.scope});return a},addToTop:function(a,b){this.listeners.unshift({cb:a,scope:b||this.scope});return a},remove:function(a){var b=this.listeners,c=null;tinymce.each(b,function(e,d){if(a==e.cb){c=a;b.splice(d,1);return false}});return c},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(e,g){var f=this,h,d,c;e=tinymce.trim(e);g=f.settings=g||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(e)||/^\s*#/.test(e)){f.source=e;return}if(e.indexOf("/")===0&&e.indexOf("//")!==0){e=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^\w*:?\/\//.test(e)){e=(g.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(g.base_uri.path,e)}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(b,j){var k=e[j];if(k){k=k.replace(/\(mce_at\)/g,"@@")}f[b]=k});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host=="mce_host"){f.port=c.port}if(!f.host||f.host=="mce_host"){f.host=c.host}f.source=""}},setPath:function(c){var b=this;c=/^(.*?)\/?(\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source="";b.getURI()},toRelative:function(b){var c=this,d;if(b==="./"){return b}b=new tinymce.util.URI(b,{base_uri:c});if((b.host!="mce_host"&&c.host!=b.host&&b.host)||c.port!=b.port||c.protocol!=b.protocol){return b.getURI()}d=c.toRelPath(c.path,b.path);if(b.query){d+="?"+b.query}if(b.anchor){d+="#"+b.anchor}return d},toAbsolute:function(b,c){var b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,h){var c,f=0,d="",e,b;g=g.substring(0,g.lastIndexOf("/"));g=g.split("/");c=h.split("/");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f==1){return h}for(e=0,b=g.length-(f-1);e<b;e++){d+="../"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+="/"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,h=[],d,g;d=/\/$/.test(f)?"/":"";e=e.split("/");f=f.split("/");a(e,function(i){if(i){h.push(i)}});e=h;for(c=f.length-1,h=[];c>=0;c--){if(f[c].length==0||f[c]=="."){continue}if(f[c]==".."){b++;continue}if(b>0){b--;continue}h.push(f[c])}c=e.length-b;if(c<=0){g=h.reverse().join("/")}else{g=e.slice(0,c).join("/")+"/"+h.reverse().join("/")}if(g.indexOf("/")!==0){g="/"+g}if(d&&g.lastIndexOf("/")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c="";if(!d){if(b.protocol){c+=b.protocol+"://"}if(b.userInfo){c+=b.userInfo+"@"}if(b.host){c+=b.host}if(b.port){c+=":"+b.port}}if(b.path){c+=b.path}if(b.query){c+="?"+b.query}if(b.anchor){c+="#"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split("&"),function(e){e=e.split("=");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(j,b,g,f,i,c){var h="";a(b,function(e,d){h+=(!h?"":"&")+escape(d)+"="+escape(e)});this.set(j,h,g,f,i,c)},get:function(i){var h=document.cookie,g,f=i+"=",d;if(!h){return}d=h.indexOf("; "+f);if(d==-1){d=h.indexOf(f);if(d!=0){return null}}else{d+=2}g=h.indexOf(";",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(i,b,g,f,h,c){document.cookie=i+"="+escape(b)+((g)?"; expires="+g.toGMTString():"")+((f)?"; path="+escape(f):"")+((h)?"; domain="+h:"")+((c)?"; secure":"")},remove:function(e,b){var c=new Date();c.setTime(c.getTime()-1000);this.set(e,"",c,b,c)}})})();(function(){function serialize(o,quote){var i,v,t;quote=quote||'"';if(o==null){return"null"}t=typeof o;if(t=="string"){v="\bb\tt\nn\ff\rr\"\"''\\\\";return quote+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'])/g,function(a,b){if(quote==='"'&&a==="'"){return a}i=v.indexOf(b);if(i+1){return"\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+quote}if(t=="object"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v="[";i<o.length;i++){v+=(i>0?",":"")+serialize(o[i],quote)}return v+"]"}v="{";for(i in o){v+=typeof o[i]!="function"?(v.length>1?","+quote:quote)+i+quote+":"+serialize(o[i],quote):""}return v+"}"}return""+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}})();tinymce.create("static tinymce.util.XHR",{send:function(g){var a,e,b=window,h=0;g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||"";function d(i){a=0;try{a=new ActiveXObject(i)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d("Microsoft.XMLHTTP")||d("Msxml2.XMLHTTP");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?"POST":"GET"),g.url,g.async);if(g.content_type){a.setRequestHeader("Content-Type",g.content_type)}a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(g.data);function f(){if(!g.async||a.readyState==4||h++>10000){if(g.success&&h<10000&&a.status==200){g.success.call(g.success_scope,""+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",a,g)}}a=null}else{b.setTimeout(f,10)}}if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var b=tinymce.extend,c=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(d){this.settings=b({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=b(this.settings,f);f.success=function(h,g){h=c.parse(h);if(typeof(h)=="undefined"){h={error:"JSON Parse error."}}if(h.error){e.call(f.error_scope||f.scope,h.error,g)}else{d.call(f.success_scope||f.scope,h.result)}};f.error=function(h,g){if(e){e.call(f.error_scope||f.scope,h,g)}};f.data=c.serialize({id:f.id||"c"+(this.count++),method:f.method,params:f.params});f.content_type="application/json";a.send(f)},"static":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(i){var g,f,e,j=/[&\"\u007E-\uFFFF]/g,a=/[<>&\u007E-\uFFFF]/g,c=/[<>&\"\']/g,d=/&(#)?([\w]+);/g;f={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};e={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function h(k){var l;l=document.createElement("div");l.innerHTML=k;return l.textContent||l.innerText||k}function b(k,o){var l,n,m,p={};if(k){k=k.split(",");o=o||10;for(l=0;l<k.length;l+=2){n=String.fromCharCode(parseInt(k[l],o));if(!f[n]){m="&"+k[l+1]+";";p[n]=m;p[m]=n}}return p}}g=b("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);i.html=i.html||{};i.html.Entities={encodeRaw:function(l,k){return l.replace(k?j:a,function(m){return f[m]||m})},encodeAllRaw:function(k){return(""+k).replace(c,function(l){return f[l]||l})},encodeNumeric:function(l,k){return l.replace(k?j:a,function(m){return f[m]||"&#"+m.charCodeAt(0)+";"})},encodeNamed:function(m,k,l){l=l||g;return m.replace(k?j:a,function(n){return f[n]||l[n]||n})},getEncodeFunc:function(m,o){var n=i.html.Entities;o=b(o)||g;function l(q,p){return q.replace(p?j:a,function(r){return f[r]||o[r]||"&#"+r.charCodeAt(0)+";"||r})}function k(q,p){return n.encodeNamed(q,p,o)}m=i.makeMap(m.replace(/\+/g,","));if(m.named&&m.numeric){return l}if(m.named){if(o){return k}return n.encodeNamed}if(m.numeric){return n.encodeNumeric}return n.encodeRaw},decode:function(k){return k.replace(d,function(m,l,n){if(l){return String.fromCharCode(n)}return e[m]||g[m]||h(m)})}}})(tinymce);tinymce.html.Styles=function(c,e){var k=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,d=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,h=/\s*([^:]+):\s*([^;]+);?/g,j=/\s+$/,m=/rgb/,b,f,g={},l;c=c||{};l="\\\" \\' \\; \\: ; : _".split(" ");for(f=0;f<l.length;f++){g[l[f]]="_"+f;g["_"+f]=l[f]}function a(n,q,p,i){function o(r){r=parseInt(r).toString(16);return r.length>1?r:"0"+r}return"#"+o(q)+o(p)+o(i)}return{toHex:function(i){return i.replace(k,a)},parse:function(r){var x={},q,n,z,s,t=c.url_converter,y=c.url_converter_scope||this;function p(A,F){var E,B,C,D;E=x[A+"-top"+F];if(!E){return}B=x[A+"-right"+F];if(E!=B){return}C=x[A+"-bottom"+F];if(B!=C){return}D=x[A+"-left"+F];if(C!=D){return}x[A+F]=D;delete x[A+"-top"+F];delete x[A+"-right"+F];delete x[A+"-bottom"+F];delete x[A+"-left"+F]}function i(B){var C=x[B],A;if(!C||C.indexOf(" ")<0){return}C=C.split(" ");A=C.length;while(A--){if(C[A]!==C[0]){return false}}x[B]=C[0];return true}function v(D,B,A,C){if(!i(B)){return}if(!i(A)){return}if(!i(C)){return}x[D]=x[B]+" "+x[A]+" "+x[C];delete x[B];delete x[A];delete x[C]}function o(A){s=true;return g[A]}function u(B,A){if(s){B=B.replace(/_[0-9]/g,function(C){return g[C]})}if(!A){B=B.replace(/\\([\'\";:])/g,"$1")}return B}if(r){r=r.replace(/\\[\"\';:_]/g,o).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(A){return A.replace(/[;:]/g,o)});while(q=h.exec(r)){n=q[1].replace(j,"").toLowerCase();z=q[2].replace(j,"");if(n&&z.length>0){if(n==="font-weight"&&z==="700"){z="bold"}else{if(n==="color"||n==="background-color"){z=z.toLowerCase()}}z=z.replace(k,a);z=z.replace(d,function(B,A,E,D,F,C){F=F||C;if(F){F=u(F);return"'"+F.replace(/\'/g,"\\'")+"'"}A=u(A||E||D);if(t){A=t.call(y,A,"style")}return"url('"+A.replace(/\'/g,"\\'")+"')"});x[n]=s?u(z,true):z}h.lastIndex=q.index+q[0].length}p("border","");p("border","-width");p("border","-color");p("border","-style");p("padding","");p("margin","");v("border","border-width","border-style","border-color");if(x.border==="medium none"){delete x.border}}return x},serialize:function(i,r){var p="",o,q;function n(t){var x,u,s,t,v;x=e.styles[t];if(x){for(u=0,s=x.length;u<s;u++){t=x[u];v=i[t];if(v!==b){p+=(p.length>0?" ":"")+t+": "+v+";"}}}}if(r&&e&&e.styles){n("*");n(o)}else{for(o in i){q=i[o];if(q!==b){p+=(p.length>0?" ":"")+o+": "+q+";"}}}return p}}};(function(k){var f={},i,l,e,d,a,c,b=k.makeMap,j=k.each;function h(n,m){return n.split(m||",")}function g(q,p){var o,m={};function n(r){return r.replace(/[A-Z]+/g,function(s){return n(q[s])})}for(o in q){if(q.hasOwnProperty(o)){q[o]=n(q[o])}}n(p).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(u,s,r,t){r=h(r,"|");m[s]={attributes:b(r),attributesOrder:r,children:b(t,"|",{"#comment":{}})}});return m}l="h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup";l=b(l,",",b(l.toUpperCase()));f=g({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]");i=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,preload,autoplay,loop,controls");e=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source");d=k.extend(b("td,th,iframe,video,object"),e);a=b("pre,script,style");c=b("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");k.html.Schema=function(o){var v=this,t={},m={},u=[],q;o=o||{};if(o.verify_html===false){o.valid_elements="*[*]"}if(o.valid_styles){q={};j(o.valid_styles,function(z,y){q[y]=k.explode(z)})}function x(y){return new RegExp("^"+y.replace(/([?+*])/g,".$1")+"$")}function p(E){var B,y,T,Q,V,z,K,P,R,I,S,W,F,H,U,L,N,J,M,X,G,O,C=/^([#+-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,A=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,D=/[*?+]/;if(E){E=h(E);if(t["@"]){N=t["@"].attributes;J=t["@"].attributesOrder}for(B=0,y=E.length;B<y;B++){z=C.exec(E[B]);if(z){U=z[1];I=z[2];L=z[3];R=z[4];F={};H=[];K={attributes:F,attributesOrder:H};if(U==="#"){K.paddEmpty=true}if(U==="-"){K.removeEmpty=true}if(N){for(X in N){F[X]=N[X]}H.push.apply(H,J)}if(R){R=h(R,"|");for(T=0,Q=R.length;T<Q;T++){z=A.exec(R[T]);if(z){P={};W=z[1];S=z[2].replace(/::/g,":");U=z[3];O=z[4];if(W==="!"){K.attributesRequired=K.attributesRequired||[];K.attributesRequired.push(S);P.required=true}if(W==="-"){delete F[S];H.splice(k.inArray(H,S),1);continue}if(U){if(U==="="){K.attributesDefault=K.attributesDefault||[];K.attributesDefault.push({name:S,value:O});P.defaultValue=O}if(U===":"){K.attributesForced=K.attributesForced||[];K.attributesForced.push({name:S,value:O});P.forcedValue=O}if(U==="<"){P.validValues=b(O,"?")}}if(D.test(S)){K.attributePatterns=K.attributePatterns||[];P.pattern=x(S);K.attributePatterns.push(P)}else{if(!F[S]){H.push(S)}F[S]=P}}}}if(!N&&I=="@"){N=F;J=H}if(L){K.outputName=I;t[L]=K}if(D.test(I)){K.pattern=x(I);u.push(K)}else{t[I]=K}}}}}function s(y){t={};u=[];p(y);j(f,function(A,z){m[z]=A.children})}function n(z){var y=/^(~)?(.+)$/;if(z){j(h(z),function(D){var B=y.exec(D),C=B[1]==="~"?"span":"div",A=B[2];m[A]=m[C];j(m,function(E,F){if(E[C]){E[A]=E[C]}})})}}function r(y){var z=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(y){j(h(y),function(D){var C=z.exec(D),B,A;if(C){A=C[1];if(A){B=m[C[2]]}else{B=m[C[2]]={"#comment":{}}}B=m[C[2]];j(h(C[3],"|"),function(E){if(A==="-"){delete B[E]}else{B[E]={}}})}})}}if(!o.valid_elements){j(f,function(z,y){t[y]={attributes:z.attributes,attributesOrder:z.attributesOrder};m[y]=z.children});j(h("strong/b,em/i"),function(y){y=h(y,"/");t[y[1]].outputName=y[0]});t.img.attributesDefault=[{name:"alt",value:""}];j(h("ol,ul,li,sub,sup,blockquote,tr,div,span,font,a,table,tbody"),function(y){t[y].removeEmpty=true});j(h("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(y){t[y].paddEmpty=true})}else{s(o.valid_elements)}n(o.custom_elements);r(o.valid_children);p(o.extended_valid_elements);r("+ol[ul|ol],+ul[ul|ol]");if(o.invalid_elements){k.each(k.explode(o.invalid_elements),function(y){if(t[y]){delete t[y]}})}v.children=m;v.styles=q;v.getBoolAttrs=function(){return i};v.getBlockElements=function(){return l};v.getShortEndedElements=function(){return e};v.getSelfClosingElements=function(){return c};v.getNonEmptyElements=function(){return d};v.getWhiteSpaceElements=function(){return a};v.isValidChild=function(z,A){var y=m[z];return !!(y&&y[A])};v.getElementRule=function(z){var y=t[z],A;if(y){return y}A=u.length;while(A--){y=u[A];if(y.pattern.test(z)){return y}}};v.addValidElements=p;v.setValidElements=s;v.addCustomElements=n;v.addValidChildren=r};k.html.Schema.boolAttrMap=i;k.html.Schema.blockElementsMap=l})(tinymce);(function(a){a.html.SaxParser=function(d,b){var c=this,e=function(){};d=d||{};c.schema=b=b||new a.html.Schema();if(d.fix_self_closing!==false){d.fix_self_closing=true}a.each("comment cdata text start end pi doctype".split(" "),function(f){if(f){c[f]=d[f]||e}});c.parse=function(q){var u=this,f,o=0,A,n,p=[],v,F,t,N,B,m,g,L,D,r,z,j,E,h,C,K,y,I,G,l,k,M,s=0,J=a.html.Entities.decode,H;function x(O){var Q,P;Q=p.length;while(Q--){if(p[Q].name===O){break}}if(Q>=0){for(P=p.length-1;P>=Q;P--){O=p[P];if(O.valid){u.end(O.name)}}p.length=Q}}G=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([^\\s\\/<>]+)\\s*((?:[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*)>))","g");l=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g;k={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};B=b.getShortEndedElements();I=b.getSelfClosingElements();m=b.getBoolAttrs();L=d.validate;H=d.fix_self_closing;while(f=G.exec(q)){if(o<f.index){u.text(J(q.substr(o,f.index-o)))}if(A=f[6]){x(A.toLowerCase())}else{if(A=f[7]){A=A.toLowerCase();g=A in B;if(H&&I[A]&&p.length>0&&p[p.length-1].name===A){x(A)}if(!L||(D=b.getElementRule(A))){r=true;if(L){E=D.attributes;h=D.attributePatterns}if(j=f[8]){v=[];v.map={};j.replace(l,function(P,O,T,S,R){var U,Q;O=O.toLowerCase();T=O in m?O:J(T||S||R||"");if(L&&O.indexOf("data-")!==0){U=E[O];if(!U&&h){Q=h.length;while(Q--){U=h[Q];if(U.pattern.test(O)){break}}if(Q===-1){U=null}}if(!U){return}if(U.validValues&&!(T in U.validValues)){return}}v.map[O]=T;v.push({name:O,value:T})})}else{v=[];v.map={}}if(L){C=D.attributesRequired;K=D.attributesDefault;y=D.attributesForced;if(y){F=y.length;while(F--){z=y[F];N=z.name;M=z.value;if(M==="{$uid}"){M="mce_"+s++}v.map[N]=M;v.push({name:N,value:M})}}if(K){F=K.length;while(F--){z=K[F];N=z.name;if(!(N in v.map)){M=z.value;if(M==="{$uid}"){M="mce_"+s++}v.map[N]=M;v.push({name:N,value:M})}}}if(C){F=C.length;while(F--){if(C[F] in v.map){break}}if(F===-1){r=false}}if(v.map["data-mce-bogus"]){r=false}}if(r){u.start(A,v,g)}}else{r=false}if(n=k[A]){n.lastIndex=o=f.index+f[0].length;if(f=n.exec(q)){if(r){t=q.substr(o,f.index-o)}o=f.index+f[0].length}else{t=q.substr(o);o=q.length}if(r&&t.length>0){u.text(t,true)}if(r){u.end(A)}G.lastIndex=o;continue}if(!g){if(!j||j.indexOf("/")!=j.length-1){p.push({name:A,valid:r})}else{if(r){u.end(A)}}}}else{if(A=f[1]){u.comment(A)}else{if(A=f[2]){u.cdata(A)}else{if(A=f[3]){u.doctype(A)}else{if(A=f[4]){u.pi(A,f[5])}}}}}}o=f.index+f[0].length}if(o<q.length){u.text(J(q.substr(o)))}for(F=p.length-1;F>=0;F--){A=p[F];if(A.valid){u.end(A.name)}}}}})(tinymce);(function(b){var d=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function a(k,f,j){var i,h,l=j?"lastChild":"firstChild",g=j?"prev":"next";if(k[l]){return k[l]}if(k!==f){i=k[g];if(i){return i}for(h=k.parent;h&&h!==f;h=h.parent){i=h[g];if(i){return i}}}}function c(f,g){this.name=f;this.type=g;if(g===1){this.attributes=[];this.attributes.map={}}}b.extend(c.prototype,{replace:function(g){var f=this;if(g.parent){g.remove()}f.insert(g,f);f.remove();return f},attr:function(h,l){var f=this,g,j,k;if(typeof h!=="string"){for(j in h){f.attr(j,h[j])}return f}if(g=f.attributes){if(l!==k){if(l===null){if(h in g.map){delete g.map[h];j=g.length;while(j--){if(g[j].name===h){g=g.splice(j,1);return f}}}return f}if(h in g.map){j=g.length;while(j--){if(g[j].name===h){g[j].value=l;break}}}else{g.push({name:h,value:l})}g.map[h]=l;return f}else{return g.map[h]}}},clone:function(){var g=this,n=new c(g.name,g.type),h,f,k,j,m;if(k=g.attributes){m=[];m.map={};for(h=0,f=k.length;h<f;h++){j=k[h];if(j.name!=="id"){m[m.length]={name:j.name,value:j.value};m.map[j.name]=j.value}}n.attributes=m}n.value=g.value;n.shortEnded=g.shortEnded;return n},wrap:function(g){var f=this;f.parent.insert(g,f);g.append(f);return f},unwrap:function(){var f=this,h,g;for(h=f.firstChild;h;){g=h.next;f.insert(h,f,true);h=g}f.remove()},remove:function(){var g=this,f=g.parent,h=g.next,i=g.prev;if(f){if(f.firstChild===g){f.firstChild=h;if(h){h.prev=null}}else{i.next=h}if(f.lastChild===g){f.lastChild=i;if(i){i.next=null}}else{h.prev=i}g.parent=g.next=g.prev=null}return g},append:function(h){var f=this,g;if(h.parent){h.remove()}g=f.lastChild;if(g){g.next=h;h.prev=g;f.lastChild=h}else{f.lastChild=f.firstChild=h}h.parent=f;return h},insert:function(i,h,f){var g;if(i.parent){i.remove()}g=h.parent||this;if(f){if(h===g.firstChild){g.firstChild=i}else{h.prev.next=i}i.prev=h.prev;i.next=h;h.prev=i}else{if(h===g.lastChild){g.lastChild=i}else{h.next.prev=i}i.next=h.next;i.prev=h;h.next=i}i.parent=g;return i},getAll:function(g){var f=this,h,i=[];for(h=f.firstChild;h;h=a(h,f)){if(h.name===g){i.push(h)}}return i},empty:function(){var g=this,f,h,j;if(g.firstChild){f=[];for(j=g.firstChild;j;j=a(j,g)){f.push(j)}h=f.length;while(h--){j=f[h];j.parent=j.firstChild=j.lastChild=j.next=j.prev=null}}g.firstChild=g.lastChild=null;return g},isEmpty:function(f){var g=this,j=g.firstChild,h;if(j){do{if(j.type===1){if(j.attributes.map["data-mce-bogus"]){continue}if(f[j.name]){return false}h=j.attributes.length;while(h--){if(j.attributes[h].name.indexOf("data-")===0){return false}}}if((j.type===3&&!d.test(j.value))){return false}}while(j=a(j,g))}return true}});b.extend(c,{create:function(g,f){var i,h;i=new c(g,e[g]||1);if(f){for(h in f){i.attr(h,f[h])}}return i}});b.html.Node=c})(tinymce);(function(a){var b=a.html.Node;a.html.DomParser=function(e,c){var d=this,g={},f=[];e=e||{};e.root_name=e.root_name||"body";d.schema=c=c||new a.html.Schema();function h(k){var m,n,x,y,u,l,r,t,q,s,j,p,v,o;p=a.makeMap("tr,td,th,tbody,thead,tfoot,table");j=c.getNonEmptyElements();for(m=0;m<k.length;m++){n=k[m];if(!n.parent){continue}y=[n];for(x=n.parent;x&&!c.isValidChild(x.name,n.name)&&!p[x.name];x=x.parent){y.push(x)}if(x&&y.length>1){y.reverse();u=l=y[0].clone();for(q=0;q<y.length-1;q++){if(c.isValidChild(l.name,y[q].name)){r=y[q].clone();l.append(r)}else{r=l}for(t=y[q].firstChild;t&&t!=y[q+1];){o=t.next;r.append(t);t=o}l=r}if(!u.isEmpty(j)){x.insert(u,y[0],true);x.insert(n,u)}else{x.insert(n,y[0],true)}if(y[0].isEmpty(j)){y[0].empty().remove()}}else{if(n.parent){if(n.name==="li"){v=n.prev;if(v&&(v.name==="ul"||v.name==="ul")){v.append(n);continue}v=n.next;if(v&&(v.name==="ul"||v.name==="ul")){v.insert(n,v.firstChild,true);continue}n.wrap(new b("ul",1));continue}if(c.isValidChild(n.parent.name,"div")&&c.isValidChild("div",n.name)){n.wrap(new b("div",1))}else{if(n.name==="style"||n.name==="script"){n.empty().remove()}else{n.unwrap()}}}}}}d.addNodeFilter=function(i,j){a.each(a.explode(i),function(k){var l=g[k];if(!l){g[k]=l=[]}l.push(j)})};d.addAttributeFilter=function(i,j){a.each(a.explode(i),function(k){var l;for(l=0;l<f.length;l++){if(f[l].name===k){f[l].callbacks.push(j);return}}f.push({name:k,callbacks:[j]})})};d.parse=function(u,n){var r,z,A,y,j={},p={},C,B,x,s,E,G,q,D,H=[],m,v,k,o,t;n=n||{};q=a.extend(a.makeMap("script,style,head,title,meta,param"),c.getBlockElements());t=c.getNonEmptyElements();o=c.children;k=c.getWhiteSpaceElements();D=/^[ \t\r\n]+/;m=/[ \t\r\n]+$/;v=/[ \t\r\n]+/g;function F(i,l){var I=new b(i,l),J;if(i in g){J=j[i];if(J){J.push(I)}else{j[i]=[I]}}return I}r=new a.html.SaxParser({validate:e.validate,fix_self_closing:false,cdata:function(i){A.append(F("#cdata",4)).value=i},text:function(I,i){var l;if(!k[A.name]){I=I.replace(v," ");if(A.lastChild&&q[A.lastChild.name]){I=I.replace(D,"")}}if(I.length!==0){l=F("#text",3);l.raw=!!i;A.append(l).value=I}},comment:function(i){A.append(F("#comment",8)).value=i},pi:function(i,l){A.append(F(i,7)).value=l},doctype:function(i){A.append(F("#doctype",10)).value=i},start:function(i,O,J){var M,l,K,I,L,Q,N,P;K=c.getElementRule(i);if(K){M=F(K.outputName||i,1);M.attributes=O;M.shortEnded=J;A.append(M);P=o[A.name];if(P&&o[M.name]&&!P[M.name]){H.push(M)}l=f.length;while(l--){L=f[l].name;if(L in O.map){E=p[L];if(E){E.push(M)}else{p[L]=[M]}}}if(q[i]){for(I=M.prev;I&&I.type===3;){Q=I.value.replace(m,"");if(Q.length>0){I.value=Q;I=I.prev}else{N=I.prev;I.remove();I=N}}}if(!J){A=M}}},end:function(l){var L,J,K,I,i;J=c.getElementRule(l);if(J){if(q[l]){if(!k[A.name]){for(L=A.firstChild;L&&L.type===3;){K=L.value.replace(D,"");if(K.length>0){L.value=K;L=L.next}else{I=L.next;L.remove();L=I}}for(L=A.lastChild;L&&L.type===3;){K=L.value.replace(m,"");if(K.length>0){L.value=K;L=L.prev}else{I=L.prev;L.remove();L=I}}}L=A.prev;if(L&&L.type===3){K=L.value.replace(D,"");if(K.length>0){L.value=K}else{L.remove()}}}if(J.removeEmpty||J.paddEmpty){if(A.isEmpty(t)){if(J.paddEmpty){A.empty().append(new b("#text","3")).value="\u00a0"}else{if(!A.attributes.map.name){i=A.parent;A.empty().remove();A=i;return}}}}A=A.parent}}},c);z=A=new b(e.root_name,11);r.parse(u);h(H);for(G in j){E=g[G];y=j[G];x=y.length;while(x--){if(!y[x].parent){y.splice(x,1)}}for(C=0,B=E.length;C<B;C++){E[C](y,G,n)}}for(C=0,B=f.length;C<B;C++){E=f[C];if(E.name in p){y=p[E.name];x=y.length;while(x--){if(!y[x].parent){y.splice(x,1)}}for(x=0,s=E.callbacks.length;x<s;x++){E.callbacks[x](y,E.name,n)}}}return z};if(e.remove_trailing_brs){d.addNodeFilter("br",function(m,n){var o=m.length,p,k=c.getBlockElements(),j=c.getNonEmptyElements(),l;while(o--){p=m[o];l=p.parent;if(k[p.parent.name]&&p===l.lastChild){p.remove();if(l.isEmpty(j)){l.empty().append(new a.html.Node("#text",3)).value="\u00a0"}}}})}}})(tinymce);tinymce.html.Writer=function(e){var c=[],f,b,d,a;e=e||{};f=e.indent;b=tinymce.makeMap(e.indent_before||"");d=tinymce.makeMap(e.indent_after||"");a=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities);return{start:function(k,j,o){var m,h,g,n;if(f&&b[k]&&c.length>0){n=c[c.length-1];if(n.length>0&&n!=="\n"){c.push("\n")}}c.push("<",k);if(j){for(m=0,h=j.length;m<h;m++){g=j[m];c.push(" ",g.name,'="',a(g.value,true),'"')}}if(!o){c[c.length]=">"}else{c[c.length]=" />"}},end:function(g){var h;c.push("</",g,">");if(f&&d[g]&&c.length>0){h=c[c.length-1];if(h.length>0&&h!=="\n"){c.push("\n")}}},text:function(h,g){if(h.length>0){c[c.length]=g?h:a(h)}},cdata:function(g){c.push("<![CDATA[",g,"]]>")},comment:function(g){c.push("<!--",g,"-->")},pi:function(g,h){if(h){c.push("<?",g," ",h,"?>")}else{c.push("<?",g,"?>")}},doctype:function(g){c.push("<!DOCTYPE",g,">")},reset:function(){c.length=0},getContent:function(){return c.join("").replace(/\n$/,"")}}};(function(a){a.html.Serializer=function(e,c){var d=this,b=new a.html.Writer(e);e=e||{};e.validate="validate" in e?e.validate:true;d.schema=c=c||new a.html.Schema();d.writer=b;d.serialize=function(h){var g,i;i=e.validate;g={3:function(k,j){b.text(k.value,k.raw)},8:function(j){b.comment(j.value)},7:function(j){b.pi(j.name,j.value)},10:function(j){b.doctype(j.value)},4:function(j){b.cdata(j.value)},11:function(j){if((j=j.firstChild)){do{f(j)}while(j=j.next)}}};b.reset();function f(m){var t=g[m.type],j,p,s,r,k,u,o,n,q;if(!t){j=m.name;p=m.shortEnded;s=m.attributes;if(i&&s&&s.length>1){u=[];u.map={};q=c.getElementRule(m.name);for(o=0,n=q.attributesOrder.length;o<n;o++){r=q.attributesOrder[o];if(r in s.map){k=s.map[r];u.map[r]=k;u.push({name:r,value:k})}}for(o=0,n=s.length;o<n;o++){r=s[o].name;if(!(r in u.map)){k=s.map[r];u.map[r]=k;u.push({name:r,value:k})}}s=u}b.start(m.name,s,p);if(!p){if((m=m.firstChild)){do{f(m)}while(m=m.next)}b.end(j)}}else{t(m)}}if(h.type==1&&!e.inner){f(h)}else{g[11](h)}return b.getContent()}}})(tinymce);(function(c){var f=c.each,e=c.is,a=c.isWebKit,d=c.isIE,h=c.html.Entities,b=/^([a-z0-9],?)+$/i,g=c.html.Schema.blockElementsMap;c.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(m,k){var i=this,j;i.doc=m;i.win=window;i.files={};i.cssFlicker=false;i.counter=0;i.stdMode=!c.isIE||m.documentMode>=8;i.boxModel=!c.isIE||m.compatMode=="CSS1Compat"||i.stdMode;i.hasOuterHTML="outerHTML" in m.createElement("a");i.settings=k=c.extend({keep_values:false,hex_colors:1},k);i.styles=new c.html.Styles({url_converter:k.url_converter,url_converter_scope:k.url_converter_scope},k.schema);if(c.isIE6){try{m.execCommand("BackgroundImageCache",false,true)}catch(l){i.cssFlicker=true}}if(d){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(n){m.createElement(n)})}c.addUnload(i.destroy,i)},getRoot:function(){var i=this,j=i.settings;return(j&&i.get(j.root_element))||i.doc.body},getViewPort:function(j){var k,i;j=!j?this.win:j;k=j.document;i=this.boxModel?k.documentElement:k.body;return{x:j.pageXOffset||i.scrollLeft,y:j.pageYOffset||i.scrollTop,w:j.innerWidth||i.clientWidth,h:j.innerHeight||i.clientHeight}},getRect:function(l){var k,i=this,j;l=i.get(l);k=i.getPos(l);j=i.getSize(l);return{x:k.x,y:k.y,w:j.w,h:j.h}},getSize:function(l){var j=this,i,k;l=j.get(l);i=j.getStyle(l,"width");k=j.getStyle(l,"height");if(i.indexOf("px")===-1){i=0}if(k.indexOf("px")===-1){k=0}return{w:parseInt(i)||l.offsetWidth||l.clientWidth,h:parseInt(k)||l.offsetHeight||l.clientHeight}},getParent:function(k,j,i){return this.getParents(k,j,i,false)},getParents:function(s,m,k,q){var j=this,i,l=j.settings,p=[];s=j.get(s);q=q===undefined;if(l.strict_root){k=k||j.getRoot()}if(e(m,"string")){i=m;if(m==="*"){m=function(o){return o.nodeType==1}}else{m=function(o){return j.is(o,i)}}}while(s){if(s==k||!s.nodeType||s.nodeType===9){break}if(!m||m(s)){if(q){p.push(s)}else{return s}}s=s.parentNode}return q?p:null},get:function(i){var j;if(i&&this.doc&&typeof(i)=="string"){j=i;i=this.doc.getElementById(i);if(i&&i.id!==j){return this.doc.getElementsByName(j)[1]}}return i},getNext:function(j,i){return this._findSib(j,i,"nextSibling")},getPrev:function(j,i){return this._findSib(j,i,"previousSibling")},select:function(k,j){var i=this;return c.dom.Sizzle(k,i.get(j)||i.get(i.settings.root_element)||i.doc,[])},is:function(l,j){var k;if(l.length===undefined){if(j==="*"){return l.nodeType==1}if(b.test(j)){j=j.toLowerCase().split(/,/);l=l.nodeName.toLowerCase();for(k=j.length-1;k>=0;k--){if(j[k]==l){return true}}return false}}return c.dom.Sizzle.matches(j,l.nodeType?[l]:l).length>0},add:function(l,o,i,k,m){var j=this;return this.run(l,function(r){var q,n;q=e(o,"string")?j.doc.createElement(o):o;j.setAttribs(q,i);if(k){if(k.nodeType){q.appendChild(k)}else{j.setHTML(q,k)}}return !m?r.appendChild(q):q})},create:function(k,i,j){return this.add(this.doc.createElement(k),k,i,j,1)},createHTML:function(q,i,m){var p="",l=this,j;p+="<"+q;for(j in i){if(i.hasOwnProperty(j)){p+=" "+j+'="'+l.encode(i[j])+'"'}}if(typeof(m)!="undefined"){return p+">"+m+"</"+q+">"}return p+" />"},remove:function(j,i){return this.run(j,function(l){var k,m;k=l.parentNode;if(!k){return null}if(i){while(m=l.firstChild){if(!c.isIE||m.nodeType!==3||m.nodeValue){k.insertBefore(m,l)}else{l.removeChild(m)}}}return k.removeChild(l)})},setStyle:function(l,i,j){var k=this;return k.run(l,function(o){var n,m;n=o.style;i=i.replace(/-(\D)/g,function(q,p){return p.toUpperCase()});if(k.pixelStyles.test(i)&&(c.is(j,"number")||/^[\-0-9\.]+$/.test(j))){j+="px"}switch(i){case"opacity":if(d){n.filter=j===""?"":"alpha(opacity="+(j*100)+")";if(!l.currentStyle||!l.currentStyle.hasLayout){n.display="inline-block"}}n[i]=n["-moz-opacity"]=n["-khtml-opacity"]=j||"";break;case"float":d?n.styleFloat=j:n.cssFloat=j;break;default:n[i]=j||""}if(k.settings.update_styles){k.setAttrib(o,"data-mce-style")}})},getStyle:function(l,i,k){l=this.get(l);if(!l){return false}if(this.doc.defaultView&&k){i=i.replace(/[A-Z]/g,function(m){return"-"+m});try{return this.doc.defaultView.getComputedStyle(l,null).getPropertyValue(i)}catch(j){return null}}i=i.replace(/-(\D)/g,function(n,m){return m.toUpperCase()});if(i=="float"){i=d?"styleFloat":"cssFloat"}if(l.currentStyle&&k){return l.currentStyle[i]}return l.style[i]},setStyles:function(l,m){var j=this,k=j.settings,i;i=k.update_styles;k.update_styles=0;f(m,function(o,p){j.setStyle(l,p,o)});k.update_styles=i;if(k.update_styles){j.setAttrib(l,k.cssText)}},removeAllAttribs:function(i){return this.run(i,function(l){var j=l.attributes;for(var k=j.length-1;k>=0;k--){l.removeAttributeNode(j.item(k))}})},setAttrib:function(k,l,i){var j=this;if(!k||!l){return}if(j.settings.strict){l=l.toLowerCase()}return this.run(k,function(n){var m=j.settings;switch(l){case"style":if(!e(i,"string")){f(i,function(o,p){j.setStyle(n,p,o)});return}if(m.keep_values){if(i&&!j._isRes(i)){n.setAttribute("data-mce-style",i,2)}else{n.removeAttribute("data-mce-style",2)}}n.style.cssText=i;break;case"class":n.className=i||"";break;case"src":case"href":if(m.keep_values){if(m.url_converter){i=m.url_converter.call(m.url_converter_scope||j,i,l,n)}j.setAttrib(n,"data-mce-"+l,i,2)}break;case"shape":n.setAttribute("data-mce-style",i);break}if(e(i)&&i!==null&&i.length!==0){n.setAttribute(l,""+i,2)}else{n.removeAttribute(l,2)}})},setAttribs:function(j,k){var i=this;return this.run(j,function(l){f(k,function(m,o){i.setAttrib(l,o,m)})})},getAttrib:function(l,m,k){var i,j=this;l=j.get(l);if(!l||l.nodeType!==1){return false}if(!e(k)){k=""}if(/^(src|href|style|coords|shape)$/.test(m)){i=l.getAttribute("data-mce-"+m);if(i){return i}}if(d&&j.props[m]){i=l[j.props[m]];i=i&&i.nodeValue?i.nodeValue:i}if(!i){i=l.getAttribute(m,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(m)){if(l[j.props[m]]===true&&i===""){return m}return i?m:""}if(l.nodeName==="FORM"&&l.getAttributeNode(m)){return l.getAttributeNode(m).nodeValue}if(m==="style"){i=i||l.style.cssText;if(i){i=j.serializeStyle(j.parseStyle(i),l.nodeName);if(j.settings.keep_values&&!j._isRes(i)){l.setAttribute("data-mce-style",i)}}}if(a&&m==="class"&&i){i=i.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(d){switch(m){case"rowspan":case"colspan":if(i===1){i=""}break;case"size":if(i==="+0"||i===20||i===0){i=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(i===0){i=""}break;case"hspace":if(i===-1){i=""}break;case"maxlength":case"tabindex":if(i===32768||i===2147483647||i==="32768"){i=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(i===65535){return m}return k;case"shape":i=i.toLowerCase();break;default:if(m.indexOf("on")===0&&i){i=c._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+i)}}}return(i!==undefined&&i!==null&&i!=="")?""+i:k},getPos:function(q,l){var j=this,i=0,p=0,m,o=j.doc,k;q=j.get(q);l=l||o.body;if(q){if(d&&!j.stdMode){q=q.getBoundingClientRect();m=j.boxModel?o.documentElement:o.body;i=j.getStyle(j.select("html")[0],"borderWidth");i=(i=="medium"||j.boxModel&&!j.isIE6)&&2||i;return{x:q.left+m.scrollLeft-i,y:q.top+m.scrollTop-i}}k=q;while(k&&k!=l&&k.nodeType){i+=k.offsetLeft||0;p+=k.offsetTop||0;k=k.offsetParent}k=q.parentNode;while(k&&k!=l&&k.nodeType){i-=k.scrollLeft||0;p-=k.scrollTop||0;k=k.parentNode}}return{x:i,y:p}},parseStyle:function(i){return this.styles.parse(i)},serializeStyle:function(j,i){return this.styles.serialize(j,i)},loadCSS:function(i){var k=this,l=k.doc,j;if(!i){i=""}j=k.select("head")[0];f(i.split(","),function(m){var n;if(k.files[m]){return}k.files[m]=true;n=k.create("link",{rel:"stylesheet",href:c._addVer(m)});if(d&&l.documentMode&&l.recalc){n.onload=function(){if(l.recalc){l.recalc()}n.onload=null}}j.appendChild(n)})},addClass:function(i,j){return this.run(i,function(k){var l;if(!j){return 0}if(this.hasClass(k,j)){return k.className}l=this.removeClass(k,j);return k.className=(l!=""?(l+" "):"")+j})},removeClass:function(k,l){var i=this,j;return i.run(k,function(n){var m;if(i.hasClass(n,l)){if(!j){j=new RegExp("(^|\\s+)"+l+"(\\s+|$)","g")}m=n.className.replace(j," ");m=c.trim(m!=" "?m:"");n.className=m;if(!m){n.removeAttribute("class");n.removeAttribute("className")}return m}return n.className})},hasClass:function(j,i){j=this.get(j);if(!j||!i){return false}return(" "+j.className+" ").indexOf(" "+i+" ")!==-1},show:function(i){return this.setStyle(i,"display","block")},hide:function(i){return this.setStyle(i,"display","none")},isHidden:function(i){i=this.get(i);return !i||i.style.display=="none"||this.getStyle(i,"display")=="none"},uniqueId:function(i){return(!i?"mce_":i)+(this.counter++)},setHTML:function(j,k){var i=this;return i.run(j,function(l){if(d){while(l.firstChild){l.removeChild(l.firstChild)}try{l.innerHTML="<br />"+k;l.removeChild(l.firstChild)}catch(m){l=i.create("div");l.innerHTML="<br />"+k;f(l.childNodes,function(o,n){if(n){l.appendChild(o)}})}}else{l.innerHTML=k}return k})},getOuterHTML:function(k){var j,i=this;k=i.get(k);if(!k){return null}if(k.nodeType===1&&i.hasOuterHTML){return k.outerHTML}j=(k.ownerDocument||i.doc).createElement("body");j.appendChild(k.cloneNode(true));return j.innerHTML},setOuterHTML:function(l,j,m){var i=this;function k(p,o,r){var s,q;q=r.createElement("body");q.innerHTML=o;s=q.lastChild;while(s){i.insertAfter(s.cloneNode(true),p);s=s.previousSibling}i.remove(p)}return this.run(l,function(o){o=i.get(o);if(o.nodeType==1){m=m||o.ownerDocument||i.doc;if(d){try{if(d&&o.nodeType==1){o.outerHTML=j}else{k(o,j,m)}}catch(n){k(o,j,m)}}else{k(o,j,m)}}})},decode:h.decode,encode:h.encodeAllRaw,insertAfter:function(i,j){j=this.get(j);return this.run(i,function(m){var l,k;l=j.parentNode;k=j.nextSibling;if(k){l.insertBefore(m,k)}else{l.appendChild(m)}return m})},isBlock:function(j){var i=j.nodeType;if(i){return !!(i===1&&g[j.nodeName])}return !!g[j]},replace:function(m,l,i){var j=this;if(e(l,"array")){m=m.cloneNode(true)}return j.run(l,function(k){if(i){f(c.grep(k.childNodes),function(n){m.appendChild(n)})}return k.parentNode.replaceChild(m,k)})},rename:function(l,j){var k=this,i;if(l.nodeName!=j.toUpperCase()){i=k.create(j);f(k.getAttribs(l),function(m){k.setAttrib(i,m.nodeName,k.getAttrib(l,m.nodeName))});k.replace(i,l,1)}return i||l},findCommonAncestor:function(k,i){var l=k,j;while(l){j=i;while(j&&l!=j){j=j.parentNode}if(l==j){break}l=l.parentNode}if(!l&&k.ownerDocument){return k.ownerDocument.documentElement}return l},toHex:function(i){var k=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(i);function j(l){l=parseInt(l).toString(16);return l.length>1?l:"0"+l}if(k){i="#"+j(k[1])+j(k[2])+j(k[3]);return i}return i},getClasses:function(){var n=this,j=[],m,o={},p=n.settings.class_filter,l;if(n.classes){return n.classes}function q(i){f(i.imports,function(s){q(s)});f(i.cssRules||i.rules,function(s){switch(s.type||1){case 1:if(s.selectorText){f(s.selectorText.split(","),function(r){r=r.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(r)||!/\.[\w\-]+$/.test(r)){return}l=r;r=c._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",r);if(p&&!(r=p(r,l))){return}if(!o[r]){j.push({"class":r});o[r]=1}})}break;case 3:q(s.styleSheet);break}})}try{f(n.doc.styleSheets,q)}catch(k){}if(j.length>0){n.classes=j}return j},run:function(l,k,j){var i=this,m;if(i.doc&&typeof(l)==="string"){l=i.get(l)}if(!l){return false}j=j||this;if(!l.nodeType&&(l.length||l.length===0)){m=[];f(l,function(o,n){if(o){if(typeof(o)=="string"){o=i.doc.getElementById(o)}m.push(k.call(j,o,n))}});return m}return k.call(j,l)},getAttribs:function(j){var i;j=this.get(j);if(!j){return[]}if(d){i=[];if(j.nodeName=="OBJECT"){return j.attributes}if(j.nodeName==="OPTION"&&this.getAttrib(j,"selected")){i.push({specified:1,nodeName:"selected"})}j.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(k){i.push({specified:1,nodeName:k})});return i}return j.attributes},destroy:function(j){var i=this;if(i.events){i.events.destroy()}i.win=i.doc=i.root=i.events=null;if(!j){c.removeUnload(i.destroy)}},createRng:function(){var i=this.doc;return i.createRange?i.createRange():new c.dom.Range(this)},nodeIndex:function(m,n){var i=0,l,k,j;if(m){for(l=m.nodeType,m=m.previousSibling,k=m;m;m=m.previousSibling){j=m.nodeType;if(n&&j==3){if(j==l||!m.nodeValue.length){continue}}i++;l=j}}return i},split:function(m,l,q){var p=this,i=p.createRng(),n,k,o;function j(t){var s,r=t.childNodes;if(t.nodeType==1&&t.getAttribute("data-mce-type")=="bookmark"){return}for(s=r.length-1;s>=0;s--){j(r[s])}if(t.nodeType!=9){if(t.nodeType==3&&t.nodeValue.length>0){if(!p.isBlock(t.parentNode)||c.trim(t.nodeValue).length>0){return}}if(t.nodeType==1){r=t.childNodes;if(r.length==1&&r[0]&&r[0].nodeType==1&&r[0].getAttribute("data-mce-type")=="bookmark"){t.parentNode.insertBefore(r[0],t)}if(r.length||/^(br|hr|input|img)$/i.test(t.nodeName)){return}}p.remove(t)}return t}if(m&&l){i.setStart(m.parentNode,p.nodeIndex(m));i.setEnd(l.parentNode,p.nodeIndex(l));n=i.extractContents();i=p.createRng();i.setStart(l.parentNode,p.nodeIndex(l)+1);i.setEnd(m.parentNode,p.nodeIndex(m)+1);k=i.extractContents();o=m.parentNode;o.insertBefore(j(n),m);if(q){o.replaceChild(q,l)}else{o.insertBefore(l,m)}o.insertBefore(j(k),m);p.remove(m);return q||l}},bind:function(m,i,l,k){var j=this;if(!j.events){j.events=new c.dom.EventUtils()}return j.events.add(m,i,l,k||this)},unbind:function(l,i,k){var j=this;if(!j.events){j.events=new c.dom.EventUtils()}return j.events.remove(l,i,k)},_findSib:function(l,i,j){var k=this,m=i;if(l){if(e(m,"string")){m=function(n){return k.is(n,i)}}for(l=l[j];l;l=l[j]){if(m(l)){return l}}}return null},_isRes:function(i){return/^(top|left|bottom|right|width|height)/i.test(i)||/;\s*(top|left|bottom|right|width|height)/i.test(i)}});c.DOM=new c.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var P=this,g=c.doc,T=0,F=1,k=2,D=true,R=false,U="startOffset",i="startContainer",Q="endContainer",C="endOffset",N=tinymce.extend,n=c.nodeIndex;N(P,{startContainer:g,startOffset:0,endContainer:g,endOffset:0,collapsed:D,commonAncestorContainer:g,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:p,setEnd:H,setStartBefore:O,setStartAfter:s,setEndBefore:r,setEndAfter:I,collapse:B,selectNode:E,selectNodeContents:x,compareBoundaryPoints:G,deleteContents:o,extractContents:v,cloneContents:e,insertNode:A,surroundContents:L,cloneRange:J});function p(V,t){z(D,V,t)}function H(V,t){z(R,V,t)}function O(t){p(t.parentNode,n(t))}function s(t){p(t.parentNode,n(t)+1)}function r(t){H(t.parentNode,n(t))}function I(t){H(t.parentNode,n(t)+1)}function B(t){if(t){P[Q]=P[i];P[C]=P[U]}else{P[i]=P[Q];P[U]=P[C]}P.collapsed=D}function E(t){O(t);I(t)}function x(t){p(t,0);H(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function G(Z,V){var ab=P[i],W=P[U],aa=P[Q],t=P[C],Y=V.startContainer,ad=V.startOffset,X=V.endContainer,ac=V.endOffset;if(Z===0){return u(ab,W,Y,ad)}if(Z===1){return u(aa,t,Y,ad)}if(Z===2){return u(aa,t,X,ac)}if(Z===3){return u(ab,W,X,ac)}}function o(){l(k)}function v(){return l(T)}function e(){return l(F)}function A(Y){var t=this[i],V=this[U],X,W;if((t.nodeType===3||t.nodeType===4)&&t.nodeValue){if(!V){t.parentNode.insertBefore(Y,t)}else{if(V>=t.nodeValue.length){c.insertAfter(Y,t)}else{X=t.splitText(V);t.parentNode.insertBefore(Y,X)}}}else{if(t.childNodes.length>0){W=t.childNodes[V]}if(W){t.insertBefore(Y,W)}else{t.appendChild(Y)}}}function L(V){var t=P.extractContents();P.insertNode(V);V.appendChild(t);P.selectNode(V)}function J(){return N(new b(c),{startContainer:P[i],startOffset:P[U],endContainer:P[Q],endOffset:P[C],collapsed:P.collapsed,commonAncestorContainer:P.commonAncestorContainer})}function f(t,V){var W;if(t.nodeType==3){return t}if(V<0){return t}W=t.firstChild;while(W&&V>0){--V;W=W.nextSibling}if(W){return W}return t}function M(){return(P[i]==P[Q]&&P[U]==P[C])}function u(Z,V,X,W){var ab,Y,t,aa,ac,ad;if(Z==X){if(V==W){return 0}if(V<W){return -1}return 1}ab=X;while(ab&&ab.parentNode!=Z){ab=ab.parentNode}if(ab){Y=0;t=Z.firstChild;while(t!=ab&&Y<V){Y++;t=t.nextSibling}if(V<=Y){return -1}return 1}ab=Z;while(ab&&ab.parentNode!=X){ab=ab.parentNode}if(ab){Y=0;t=X.firstChild;while(t!=ab&&Y<W){Y++;t=t.nextSibling}if(Y<W){return -1}return 1}aa=c.findCommonAncestor(Z,X);ac=Z;while(ac&&ac.parentNode!=aa){ac=ac.parentNode}if(!ac){ac=aa}ad=X;while(ad&&ad.parentNode!=aa){ad=ad.parentNode}if(!ad){ad=aa}if(ac==ad){return 0}t=aa.firstChild;while(t){if(t==ac){return -1}if(t==ad){return 1}t=t.nextSibling}}function z(V,Y,X){var t,W;if(V){P[i]=Y;P[U]=X}else{P[Q]=Y;P[C]=X}t=P[Q];while(t.parentNode){t=t.parentNode}W=P[i];while(W.parentNode){W=W.parentNode}if(W==t){if(u(P[i],P[U],P[Q],P[C])>0){P.collapse(V)}}else{P.collapse(V)}P.collapsed=M();P.commonAncestorContainer=c.findCommonAncestor(P[i],P[Q])}function l(ab){var aa,Y=0,ad=0,V,W,Z,X,t,ac;if(P[i]==P[Q]){return h(ab)}for(aa=P[Q],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==P[i]){return q(aa,ab)}++Y}for(aa=P[i],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==P[Q]){return S(aa,ab)}++ad}W=ad-Y;Z=P[i];while(W>0){Z=Z.parentNode;W--}X=P[Q];while(W<0){X=X.parentNode;W++}for(t=Z.parentNode,ac=X.parentNode;t!=ac;t=t.parentNode,ac=ac.parentNode){Z=t;X=ac}return K(Z,X,ab)}function h(Z){var ab,Y,X,aa,t,W,V;if(Z!=k){ab=g.createDocumentFragment()}if(P[U]==P[C]){return ab}if(P[i].nodeType==3){Y=P[i].nodeValue;X=Y.substring(P[U],P[C]);if(Z!=F){P[i].deleteData(P[U],P[C]-P[U]);P.collapse(D)}if(Z==k){return}ab.appendChild(g.createTextNode(X));return ab}aa=f(P[i],P[U]);t=P[C]-P[U];while(t>0){W=aa.nextSibling;V=y(aa,Z);if(ab){ab.appendChild(V)}--t;aa=W}if(Z!=F){P.collapse(D)}return ab}function q(ab,Y){var aa,Z,t,V,X,W;if(Y!=k){aa=g.createDocumentFragment()}Z=j(ab,Y);if(aa){aa.appendChild(Z)}t=n(ab);V=t-P[U];if(V<=0){if(Y!=F){P.setEndBefore(ab);P.collapse(R)}return aa}Z=ab.previousSibling;while(V>0){X=Z.previousSibling;W=y(Z,Y);if(aa){aa.insertBefore(W,aa.firstChild)}--V;Z=X}if(Y!=F){P.setEndBefore(ab);P.collapse(R)}return aa}function S(Z,Y){var ab,V,aa,t,X,W;if(Y!=k){ab=g.createDocumentFragment()}aa=d(Z,Y);if(ab){ab.appendChild(aa)}V=n(Z);++V;t=P[C]-V;aa=Z.nextSibling;while(t>0){X=aa.nextSibling;W=y(aa,Y);if(ab){ab.appendChild(W)}--t;aa=X}if(Y!=F){P.setStartAfter(Z);P.collapse(D)}return ab}function K(Y,V,ac){var X,ae,aa,t,ab,W,ad,Z;if(ac!=k){ae=g.createDocumentFragment()}X=d(Y,ac);if(ae){ae.appendChild(X)}aa=Y.parentNode;t=n(Y);ab=n(V);++t;W=ab-t;ad=Y.nextSibling;while(W>0){Z=ad.nextSibling;X=y(ad,ac);if(ae){ae.appendChild(X)}ad=Z;--W}X=j(V,ac);if(ae){ae.appendChild(X)}if(ac!=F){P.setStartAfter(Y);P.collapse(D)}return ae}function j(Z,aa){var W=f(P[Q],P[C]-1),ab,ac,Y,t,V,X=W!=P[Q];if(W==Z){return m(W,X,R,aa)}ab=W.parentNode;ac=m(ab,R,R,aa);while(ab){while(W){Y=W.previousSibling;t=m(W,X,R,aa);if(aa!=k){ac.insertBefore(t,ac.firstChild)}X=D;W=Y}if(ab==Z){return ac}W=ab.previousSibling;ab=ab.parentNode;V=m(ab,R,R,aa);if(aa!=k){V.appendChild(ac)}ac=V}}function d(Z,aa){var X=f(P[i],P[U]),Y=X!=P[i],ab,ac,V,t,W;if(X==Z){return m(X,Y,D,aa)}ab=X.parentNode;ac=m(ab,R,D,aa);while(ab){while(X){V=X.nextSibling;t=m(X,Y,D,aa);if(aa!=k){ac.appendChild(t)}Y=D;X=V}if(ab==Z){return ac}X=ab.nextSibling;ab=ab.parentNode;W=m(ab,R,D,aa);if(aa!=k){W.appendChild(ac)}ac=W}}function m(V,Y,ac,ab){var t,X,Z,W,aa;if(Y){return y(V,ab)}if(V.nodeType==3){t=V.nodeValue;if(ac){W=P[U];X=t.substring(W);Z=t.substring(0,W)}else{W=P[C];X=t.substring(0,W);Z=t.substring(W)}if(ab!=F){V.nodeValue=Z}if(ab==k){return}aa=V.cloneNode(R);aa.nodeValue=X;return aa}if(ab==k){return}return V.cloneNode(R)}function y(V,t){if(t!=k){return t==F?V.cloneNode(D):V}V.parentNode.removeChild(V)}}a.Range=b})(tinymce.dom);(function(){function a(g){var i=this,j="\uFEFF",e,h,d=g.dom,c=true,f=false;function b(){var n=g.getRng(),k=d.createRng(),l,o;l=n.item?n.item(0):n.parentElement();if(l.ownerDocument!=d.doc){return k}o=g.isCollapsed();if(n.item||!l.hasChildNodes()){if(o){k.setStart(l,0);k.setEnd(l,0)}else{k.setStart(l.parentNode,d.nodeIndex(l));k.setEnd(k.startContainer,k.startOffset+1)}return k}function m(r){var s,y,t,p,z=0,v,x,A,q,u;q=n.duplicate();q.collapse(r);s=d.create("a");A=q.parentElement();if(!A.hasChildNodes()){k[r?"setStart":"setEnd"](A,0);return}A.appendChild(s);q.moveToElementText(s);u=n.compareEndPoints(r?"StartToStart":"EndToEnd",q);if(u>0){k[r?"setStartAfter":"setEndAfter"](A);d.remove(s);return}p=tinymce.grep(A.childNodes);v=p.length-1;while(z<=v){x=Math.floor((z+v)/2);A.insertBefore(s,p[x]);q.moveToElementText(s);u=n.compareEndPoints(r?"StartToStart":"EndToEnd",q);if(u>0){z=x+1}else{if(u<0){v=x-1}else{found=true;break}}}y=u>0||x==0?s.nextSibling:s.previousSibling;if(y.nodeType==1){d.remove(s);t=d.nodeIndex(y);y=y.parentNode;if(!r||x>0){t++}}else{if(u>0||x==0){q.setEndPoint(r?"StartToStart":"EndToEnd",n);t=q.text.length}else{q.setEndPoint(r?"StartToStart":"EndToEnd",n);t=y.nodeValue.length-q.text.length}d.remove(s)}k[r?"setStart":"setEnd"](y,t)}m(true);if(!o){m()}return k}this.addRange=function(k){var p,m,n,l,t,s,u=g.dom.doc,o=u.body;function r(B){var z,A,y,x,v;y=d.create("a");z=B?n:t;A=B?l:s;x=p.duplicate();if(z==u||z==u.documentElement){z=o;A=0}if(z.nodeType==3){z.parentNode.insertBefore(y,z);x.moveToElementText(y);x.moveStart("character",A);d.remove(y);p.setEndPoint(B?"StartToStart":"EndToEnd",x)}else{v=z.childNodes;if(v.length){if(A>=v.length){d.insertAfter(y,v[v.length-1])}else{z.insertBefore(y,v[A])}x.moveToElementText(y)}else{y=u.createTextNode(j);z.appendChild(y);x.moveToElementText(y.parentNode);x.collapse(c)}p.setEndPoint(B?"StartToStart":"EndToEnd",x);d.remove(y)}}this.destroy();n=k.startContainer;l=k.startOffset;t=k.endContainer;s=k.endOffset;p=o.createTextRange();if(n==t&&n.nodeType==1&&l==s-1){if(l==s-1){try{m=o.createControlRange();m.addElement(n.childNodes[l]);m.select();return}catch(q){}}}r(true);r();p.select()};this.getRangeAt=function(){if(!e||!tinymce.dom.RangeUtils.compareRanges(h,g.getRng())){e=b();h=g.getRng()}try{e.startContainer.nextSibling}catch(k){e=b();h=null}return e};this.destroy=function(){h=e=null}}tinymce.dom.TridentSelection=a})();(function(){var p=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,f=0,j=Object.prototype.toString,o=false,g=true;[0,0].sort(function(){g=false;return 0});var l=function(x,e,A,B){A=A||[];e=e||document;var r=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!x||typeof x!=="string"){return A}var y=[],t,E,H,s,v=true,u=l.isXML(e),C=x,D,G,F,z;do{p.exec("");t=p.exec(C);if(t){C=t[3];y.push(t[1]);if(t[2]){s=t[3];break}}}while(t);if(y.length>1&&c.exec(x)){if(y.length===2&&b.relative[y[0]]){E=d(y[0]+y[1],e)}else{E=b.relative[y[0]]?[e]:l(y.shift(),e);while(y.length){x=y.shift();if(b.relative[x]){x+=y.shift()}E=d(x,E)}}}else{if(!B&&y.length>1&&e.nodeType===9&&!u&&b.match.ID.test(y[0])&&!b.match.ID.test(y[y.length-1])){D=l.find(y.shift(),e,u);e=D.expr?l.filter(D.expr,D.set)[0]:D.set[0]}if(e){D=B?{expr:y.pop(),set:a(B)}:l.find(y.pop(),y.length===1&&(y[0]==="~"||y[0]==="+")&&e.parentNode?e.parentNode:e,u);E=D.expr?l.filter(D.expr,D.set):D.set;if(y.length>0){H=a(E)}else{v=false}while(y.length){G=y.pop();F=G;if(!b.relative[G]){G=""}else{F=y.pop()}if(F==null){F=e}b.relative[G](H,F,u)}}else{H=y=[]}}if(!H){H=E}if(!H){l.error(G||x)}if(j.call(H)==="[object Array]"){if(!v){A.push.apply(A,H)}else{if(e&&e.nodeType===1){for(z=0;H[z]!=null;z++){if(H[z]&&(H[z]===true||H[z].nodeType===1&&l.contains(e,H[z]))){A.push(E[z])}}}else{for(z=0;H[z]!=null;z++){if(H[z]&&H[z].nodeType===1){A.push(E[z])}}}}}else{a(H,A)}if(s){l(s,r,A,B);l.uniqueSort(A)}return A};l.uniqueSort=function(r){if(i){o=g;r.sort(i);if(o){for(var e=1;e<r.length;e++){if(r[e]===r[e-1]){r.splice(e--,1)}}}}return r};l.matches=function(e,r){return l(e,null,null,r)};l.find=function(x,e,z){var y;if(!x){return[]}for(var t=0,s=b.order.length;t<s;t++){var v=b.order[t],u;if((u=b.leftMatch[v].exec(x))){var r=u[1];u.splice(1,1);if(r.substr(r.length-1)!=="\\"){u[1]=(u[1]||"").replace(/\\/g,"");y=b.find[v](u,e,z);if(y!=null){x=x.replace(b.match[v],"");break}}}}if(!y){y=e.getElementsByTagName("*")}return{set:y,expr:x}};l.filter=function(C,D,G,s){var e=C,B=[],x=D,u,z,v=D&&D[0]&&l.isXML(D[0]);while(C&&D.length){for(var A in b.filter){if((u=b.leftMatch[A].exec(C))!=null&&u[2]){var y=b.filter[A],H,F,r=u[1];z=false;u.splice(1,1);if(r.substr(r.length-1)==="\\"){continue}if(x===B){B=[]}if(b.preFilter[A]){u=b.preFilter[A](u,x,G,B,s,v);if(!u){z=H=true}else{if(u===true){continue}}}if(u){for(var t=0;(F=x[t])!=null;t++){if(F){H=y(F,u,t,x);var E=s^!!H;if(G&&H!=null){if(E){z=true}else{x[t]=false}}else{if(E){B.push(F);z=true}}}}}if(H!==undefined){if(!G){x=B}C=C.replace(b.match[A],"");if(!z){return[]}break}}}if(C===e){if(z==null){l.error(C)}else{break}}e=C}return x};l.error=function(e){throw"Syntax error, unrecognized expression: "+e};var b=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(x,s){var r=typeof s==="string",v=r&&!/\W/.test(s),y=r&&!v;if(v){s=s.toLowerCase()}for(var t=0,e=x.length,u;t<e;t++){if((u=x[t])){while((u=u.previousSibling)&&u.nodeType!==1){}x[t]=y||u&&u.nodeName.toLowerCase()===s?u||false:u===s}}if(y){l.filter(s,x,true)}},">":function(x,t){var s=typeof t==="string",v,u=0,e=x.length;if(s&&!/\W/.test(t)){t=t.toLowerCase();for(;u<e;u++){v=x[u];if(v){var r=v.parentNode;x[u]=r.nodeName.toLowerCase()===t?r:false}}}else{for(;u<e;u++){v=x[u];if(v){x[u]=s?v.parentNode:v.parentNode===t}}if(s){l.filter(t,x,true)}}},"":function(t,r,v){var s=f++,e=q,u;if(typeof r==="string"&&!/\W/.test(r)){r=r.toLowerCase();u=r;e=n}e("parentNode",r,s,t,u,v)},"~":function(t,r,v){var s=f++,e=q,u;if(typeof r==="string"&&!/\W/.test(r)){r=r.toLowerCase();u=r;e=n}e("previousSibling",r,s,t,u,v)}},find:{ID:function(r,s,t){if(typeof s.getElementById!=="undefined"&&!t){var e=s.getElementById(r[1]);return e?[e]:[]}},NAME:function(s,v){if(typeof v.getElementsByName!=="undefined"){var r=[],u=v.getElementsByName(s[1]);for(var t=0,e=u.length;t<e;t++){if(u[t].getAttribute("name")===s[1]){r.push(u[t])}}return r.length===0?null:r}},TAG:function(e,r){return r.getElementsByTagName(e[1])}},preFilter:{CLASS:function(s,e,r,x,v,y){s=" "+s[1].replace(/\\/g,"")+" ";if(y){return s}for(var t=0,u;(u=e[t])!=null;t++){if(u){if(v^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(s)>=0)){if(!r){x.push(u)}}else{if(r){e[t]=false}}}}return false},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(r,e){return r[1].toLowerCase()},CHILD:function(e){if(e[1]==="nth"){var r=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(r[1]+(r[2]||1))-0;e[3]=r[3]-0}e[0]=f++;return e},ATTR:function(t,e,r,v,u,x){var s=t[1].replace(/\\/g,"");if(!x&&b.attrMap[s]){t[1]=b.attrMap[s]}if(t[2]==="~="){t[4]=" "+t[4]+" "}return t},PSEUDO:function(t,e,r,v,u){if(t[1]==="not"){if((p.exec(t[3])||"").length>1||/^\w/.test(t[3])){t[3]=l(t[3],null,null,e)}else{var s=l.filter(t[3],e,r,true^u);if(!r){v.push.apply(v,s)}return false}}else{if(b.match.POS.test(t[0])||b.match.CHILD.test(t[0])){return true}}return t},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(s,r,e){return !!l(e[3],s).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toLowerCase()==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)}},setFilters:{first:function(r,e){return e===0},last:function(s,r,e,t){return r===t.length-1},even:function(r,e){return e%2===0},odd:function(r,e){return e%2===1},lt:function(s,r,e){return r<e[3]-0},gt:function(s,r,e){return r>e[3]-0},nth:function(s,r,e){return e[3]-0===r},eq:function(s,r,e){return e[3]-0===r}},filter:{PSEUDO:function(s,x,v,z){var e=x[1],y=b.filters[e];if(y){return y(s,v,x,z)}else{if(e==="contains"){return(s.textContent||s.innerText||l.getText([s])||"").indexOf(x[3])>=0}else{if(e==="not"){var r=x[3];for(var u=0,t=r.length;u<t;u++){if(r[u]===s){return false}}return true}else{l.error("Syntax error, unrecognized expression: "+e)}}}},CHILD:function(r,s){var x=s[1],e=r;switch(x){case"only":case"first":while((e=e.previousSibling)){if(e.nodeType===1){return false}}if(x==="first"){return true}e=r;case"last":while((e=e.nextSibling)){if(e.nodeType===1){return false}}return true;case"nth":var t=s[2],z=s[3];if(t===1&&z===0){return true}var v=s[0],A=r.parentNode;if(A&&(A.sizcache!==v||!r.nodeIndex)){var u=0;for(e=A.firstChild;e;e=e.nextSibling){if(e.nodeType===1){e.nodeIndex=++u}}A.sizcache=v}var y=r.nodeIndex-z;if(t===0){return y===0}else{return(y%t===0&&y/t>=0)}}},ID:function(r,e){return r.nodeType===1&&r.getAttribute("id")===e},TAG:function(r,e){return(e==="*"&&r.nodeType===1)||r.nodeName.toLowerCase()===e},CLASS:function(r,e){return(" "+(r.className||r.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(u,s){var r=s[1],x=b.attrHandle[r]?b.attrHandle[r](u):u[r]!=null?u[r]:u.getAttribute(r),v=x+"",t=s[2],e=s[4];return x==null?t==="!=":t==="="?v===e:t==="*="?v.indexOf(e)>=0:t==="~="?(" "+v+" ").indexOf(e)>=0:!e?v&&x!==false:t==="!="?v!==e:t==="^="?v.indexOf(e)===0:t==="$="?v.substr(v.length-e.length)===e:t==="|="?v===e||v.substr(0,e.length+1)===e+"-":false},POS:function(u,s,t,v){var r=s[2],e=b.setFilters[r];if(e){return e(u,t,s,v)}}}};var c=b.match.POS,h=function(r,e){return"\\"+(e-0+1)};for(var m in b.match){b.match[m]=new RegExp(b.match[m].source+(/(?![^\[]*\])(?![^\(]*\))/.source));b.leftMatch[m]=new RegExp(/(^(?:.|\r|\n)*?)/.source+b.match[m].source.replace(/\\(\d+)/g,h))}var a=function(r,e){r=Array.prototype.slice.call(r,0);if(e){e.push.apply(e,r);return e}return r};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(k){a=function(u,t){var r=t||[],s=0;if(j.call(u)==="[object Array]"){Array.prototype.push.apply(r,u)}else{if(typeof u.length==="number"){for(var e=u.length;s<e;s++){r.push(u[s])}}else{for(;u[s];s++){r.push(u[s])}}}return r}}var i;if(document.documentElement.compareDocumentPosition){i=function(r,e){if(!r.compareDocumentPosition||!e.compareDocumentPosition){if(r==e){o=true}return r.compareDocumentPosition?-1:1}var s=r.compareDocumentPosition(e)&4?-1:r===e?0:1;if(s===0){o=true}return s}}else{if("sourceIndex" in document.documentElement){i=function(r,e){if(!r.sourceIndex||!e.sourceIndex){if(r==e){o=true}return r.sourceIndex?-1:1}var s=r.sourceIndex-e.sourceIndex;if(s===0){o=true}return s}}else{if(document.createRange){i=function(r,e){if(!r.ownerDocument||!e.ownerDocument){if(r==e){o=true}return r.ownerDocument?-1:1}var t=r.ownerDocument.createRange(),u=e.ownerDocument.createRange();t.setStart(r,0);t.setEnd(r,0);u.setStart(e,0);u.setEnd(e,0);var s=t.compareBoundaryPoints(Range.START_TO_END,u);if(s===0){o=true}return s}}}}l.getText=function(e){var r="",t;for(var s=0;e[s];s++){t=e[s];if(t.nodeType===3||t.nodeType===4){r+=t.nodeValue}else{if(t.nodeType!==8){r+=l.getText(t.childNodes)}}}return r};(function(){var r=document.createElement("div"),s="script"+(new Date()).getTime();r.innerHTML="<a name='"+s+"'/>";var e=document.documentElement;e.insertBefore(r,e.firstChild);if(document.getElementById(s)){b.find.ID=function(u,v,x){if(typeof v.getElementById!=="undefined"&&!x){var t=v.getElementById(u[1]);return t?t.id===u[1]||typeof t.getAttributeNode!=="undefined"&&t.getAttributeNode("id").nodeValue===u[1]?[t]:undefined:[]}};b.filter.ID=function(v,t){var u=typeof v.getAttributeNode!=="undefined"&&v.getAttributeNode("id");return v.nodeType===1&&u&&u.nodeValue===t}}e.removeChild(r);e=r=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){b.find.TAG=function(r,v){var u=v.getElementsByTagName(r[1]);if(r[1]==="*"){var t=[];for(var s=0;u[s];s++){if(u[s].nodeType===1){t.push(u[s])}}u=t}return u}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){b.attrHandle.href=function(r){return r.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=l,s=document.createElement("div");s.innerHTML="<p class='TEST'></p>";if(s.querySelectorAll&&s.querySelectorAll(".TEST").length===0){return}l=function(x,v,t,u){v=v||document;if(!u&&v.nodeType===9&&!l.isXML(v)){try{return a(v.querySelectorAll(x),t)}catch(y){}}return e(x,v,t,u)};for(var r in e){l[r]=e[r]}s=null})()}(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}b.order.splice(1,0,"CLASS");b.find.CLASS=function(r,s,t){if(typeof s.getElementsByClassName!=="undefined"&&!t){return s.getElementsByClassName(r[1])}};e=null})();function n(r,y,v,z,x,A){for(var t=0,s=z.length;t<s;t++){var e=z[t];if(e){e=e[r];var u=false;while(e){if(e.sizcache===v){u=z[e.sizset];break}if(e.nodeType===1&&!A){e.sizcache=v;e.sizset=t}if(e.nodeName.toLowerCase()===y){u=e;break}e=e[r]}z[t]=u}}}function q(r,y,v,z,x,A){for(var t=0,s=z.length;t<s;t++){var e=z[t];if(e){e=e[r];var u=false;while(e){if(e.sizcache===v){u=z[e.sizset];break}if(e.nodeType===1){if(!A){e.sizcache=v;e.sizset=t}if(typeof y!=="string"){if(e===y){u=true;break}}else{if(l.filter(y,[e]).length>0){u=e;break}}}e=e[r]}z[t]=u}}}l.contains=document.compareDocumentPosition?function(r,e){return !!(r.compareDocumentPosition(e)&16)}:function(r,e){return r!==e&&(r.contains?r.contains(e):true)};l.isXML=function(e){var r=(e?e.ownerDocument||e:0).documentElement;return r?r.nodeName!=="HTML":false};var d=function(e,x){var y=[],t="",u,s=x.nodeType?[x]:x;while((u=b.match.PSEUDO.exec(e))){t+=u[0];e=e.replace(b.match.PSEUDO,"")}e=b.relative[e]?e+"*":e;for(var v=0,r=s.length;v<r;v++){l(e,s[v],y)}return l.filter(t,y)};window.tinymce.dom.Sizzle=l})();(function(c){var f=c.each,e=c.DOM,d=c.isIE,a=c.isWebKit,b;c.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(m,p,l,j){var g,h=this,i=h.events,k;if(p instanceof Array){k=[];f(p,function(o){k.push(h.add(m,o,l,j))});return k}if(m&&m.hasOwnProperty&&m instanceof Array){k=[];f(m,function(n){n=e.get(n);k.push(h.add(n,p,l,j))});return k}m=e.get(m);if(!m){return}g=function(n){if(h.disabled){return}n=n||window.event;if(n&&d){if(!n.target){n.target=n.srcElement}c.extend(n,h._stoppers)}if(!j){return l(n)}return l.call(j,n)};if(p=="unload"){c.unloads.unshift({func:g});return g}if(p=="init"){if(h.domLoaded){g()}else{h.inits.push(g)}return g}i.push({obj:m,name:p,func:l,cfunc:g,scope:j});h._add(m,p,g);return l},remove:function(l,m,k){var h=this,g=h.events,i=false,j;if(l&&l.hasOwnProperty&&l instanceof Array){j=[];f(l,function(n){n=e.get(n);j.push(h.remove(n,m,k))});return j}l=e.get(l);f(g,function(o,n){if(o.obj==l&&o.name==m&&(!k||(o.func==k||o.cfunc==k))){g.splice(n,1);h._remove(l,m,o.cfunc);i=true;return false}});return i},clear:function(l){var j=this,g=j.events,h,k;if(l){l=e.get(l);for(h=g.length-1;h>=0;h--){k=g[h];if(k.obj===l){j._remove(k.obj,k.name,k.cfunc);k.obj=k.cfunc=null;g.splice(h,1)}}}},cancel:function(g){if(!g){return false}this.stop(g);return this.prevent(g)},stop:function(g){if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}return false},prevent:function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false},destroy:function(){var g=this;f(g.events,function(j,h){g._remove(j.obj,j.name,j.cfunc);j.obj=j.cfunc=null});g.events=[];g=null},_add:function(h,i,g){if(h.attachEvent){h.attachEvent("on"+i,g)}else{if(h.addEventListener){h.addEventListener(i,g,false)}else{h["on"+i]=g}}},_remove:function(i,j,h){if(i){try{if(i.detachEvent){i.detachEvent("on"+j,h)}else{if(i.removeEventListener){i.removeEventListener(j,h,false)}else{i["on"+j]=null}}}catch(g){}}},_pageInit:function(h){var g=this;if(g.domLoaded){return}g.domLoaded=true;f(g.inits,function(i){i()});g.inits=[]},_wait:function(i){var g=this,h=i.document;if(i.tinyMCE_GZ&&tinyMCE_GZ.loaded){g.domLoaded=1;return}if(h.attachEvent){h.attachEvent("onreadystatechange",function(){if(h.readyState==="complete"){h.detachEvent("onreadystatechange",arguments.callee);g._pageInit(i)}});if(h.documentElement.doScroll&&i==i.top){(function(){if(g.domLoaded){return}try{h.documentElement.doScroll("left")}catch(j){setTimeout(arguments.callee,0);return}g._pageInit(i)})()}}else{if(h.addEventListener){g._add(i,"DOMContentLoaded",function(){g._pageInit(i)})}}g._add(i,"load",function(){g._pageInit(i)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});b=c.dom.Event=new c.dom.EventUtils();b._wait(window);c.addUnload(function(){b.destroy()})})(tinymce);(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(g){b[g]=function(){var h=[f],j;for(j=0;j<arguments.length;j++){h.push(arguments[j])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(i,h,g){return a.dom.Event.add(b.id,i,h,g)},getXY:function(){return{x:parseInt(b.getStyle("left")),y:parseInt(b.getStyle("top"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle("width")||g.clientWidth),h:parseInt(b.getStyle("height")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,i){var h=b.getXY();b.moveTo(h.x+g,h.y+i)},resizeTo:function(g,i){b.setStyles({width:g,height:i})},resizeBy:function(g,j){var i=b.getSize();b.resizeTo(i.w+g,i.h+j)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||"";if(h.indexOf("get")===0||h.indexOf("has")===0||h.indexOf("is")===0){return}if(h=="remove"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),"iframe",{id:b.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});e.setStyle(g,"opacity",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle("left",1),top:b.getStyle("top",1),width:b.getStyle("width",1),height:b.getStyle("height",1),display:b.getStyle("display",1),zIndex:parseInt(b.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(a){function e(f){return f.replace(/[\n\r]+/g,"")}var c=a.is,b=a.isIE,d=a.each;a.create("tinymce.dom.Selection",{Selection:function(i,h,f){var g=this;g.dom=i;g.win=h;g.serializer=f;d(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(j){g[j]=new a.util.Dispatcher(g)});if(!g.win.getSelection){g.tridentSel=new a.dom.TridentSelection(g)}if(a.isIE&&i.boxModel){this._fixIESelection()}a.addUnload(g.destroy,g)},getContent:function(g){var f=this,h=f.getRng(),l=f.dom.create("body"),j=f.getSel(),i,k,m;g=g||{};i=k="";g.get=true;g.format=g.format||"html";f.onBeforeGetContent.dispatch(f,g);if(g.format=="text"){return f.isCollapsed()?"":(h.text||(j.toString?j.toString():""))}if(h.cloneContents){m=h.cloneContents();if(m){l.appendChild(m)}}else{if(c(h.item)||c(h.htmlText)){l.innerHTML=h.item?h.item(0).outerHTML:h.htmlText}else{l.innerHTML=h.toString()}}if(/^\s/.test(l.innerHTML)){i=" "}if(/\s+$/.test(l.innerHTML)){k=" "}g.getInner=true;g.content=f.isCollapsed()?"":i+f.serializer.serialize(l,g)+k;f.onGetContent.dispatch(f,g);return g.content},setContent:function(k,i){var h=this,f=h.getRng(),j,l=h.win.document,m,g;i=i||{format:"html"};i.set=true;k=i.content=k;if(!i.no_events){h.onBeforeSetContent.dispatch(h,i)}k=i.content;if(f.insertNode){k+='<span id="__caret">_</span>';if(f.startContainer==l&&f.endContainer==l){l.body.innerHTML=k}else{f.deleteContents();if(l.body.childNodes.length==0){l.body.innerHTML=k}else{if(f.createContextualFragment){f.insertNode(f.createContextualFragment(k))}else{m=l.createDocumentFragment();g=l.createElement("div");m.appendChild(g);g.outerHTML=k;f.insertNode(m)}}}j=h.dom.get("__caret");f=l.createRange();f.setStartBefore(j);f.setEndBefore(j);h.setRng(f);h.dom.remove("__caret");h.setRng(f)}else{if(f.item){l.execCommand("Delete",false,null);f=h.getRng()}f.pasteHTML(k)}if(!i.no_events){h.onSetContent.dispatch(h,i)}},getStart:function(){var f=this.getRng(),g,i,j,h;if(f.duplicate||f.item){if(f.item){return f.item(0)}j=f.duplicate();j.collapse(1);g=j.parentElement();i=h=f.parentElement();while(h=h.parentNode){if(h==g){g=i;break}}return g}else{g=f.startContainer;if(g.nodeType==1&&g.hasChildNodes()){g=g.childNodes[Math.min(g.childNodes.length-1,f.startOffset)]}if(g&&g.nodeType==3){return g.parentNode}return g}},getEnd:function(){var g=this,h=g.getRng(),i,f;if(h.duplicate||h.item){if(h.item){return h.item(0)}h=h.duplicate();h.collapse(0);i=h.parentElement();if(i&&i.nodeName=="BODY"){return i.lastChild||i}return i}else{i=h.endContainer;f=h.endOffset;if(i.nodeType==1&&i.hasChildNodes()){i=i.childNodes[f>0?f-1:f]}if(i&&i.nodeType==3){return i.parentNode}return i}},getBookmark:function(r,u){var v=this,n=v.dom,g,j,i,m,h,k,p,l="\uFEFF",s;function f(y,x){var t=0;d(n.select(y),function(A,z){if(A==x){t=z}});return t}if(r==2){function o(){var x=v.getRng(true),t=n.getRoot(),y={};function z(B,H){var D=B[H?"startContainer":"endContainer"],G=B[H?"startOffset":"endOffset"],A=[],C,F,E=0;if(D.nodeType==3){if(u){for(C=D.previousSibling;C&&C.nodeType==3;C=C.previousSibling){G+=C.nodeValue.length}}A.push(G)}else{F=D.childNodes;if(G>=F.length&&F.length){E=1;G=Math.max(0,F.length-1)}A.push(v.dom.nodeIndex(F[G],u)+E)}for(;D&&D!=t;D=D.parentNode){A.push(v.dom.nodeIndex(D,u))}return A}y.start=z(x,true);if(!v.isCollapsed()){y.end=z(x)}return y}return o()}if(r){return{rng:v.getRng()}}g=v.getRng();i=n.uniqueId();m=tinyMCE.activeEditor.selection.isCollapsed();s="overflow:hidden;line-height:0px";if(g.duplicate||g.item){if(!g.item){j=g.duplicate();try{g.collapse();g.pasteHTML('<span data-mce-type="bookmark" id="'+i+'_start" style="'+s+'">'+l+"</span>");if(!m){j.collapse(false);j.pasteHTML('<span data-mce-type="bookmark" id="'+i+'_end" style="'+s+'">'+l+"</span>")}}catch(q){return null}}else{k=g.item(0);h=k.nodeName;return{name:h,index:f(h,k)}}}else{k=v.getNode();h=k.nodeName;if(h=="IMG"){return{name:h,index:f(h,k)}}j=g.cloneRange();if(!m){j.collapse(false);j.insertNode(n.create("span",{"data-mce-type":"bookmark",id:i+"_end",style:s},l))}g.collapse(true);g.insertNode(n.create("span",{"data-mce-type":"bookmark",id:i+"_start",style:s},l))}v.moveToBookmark({id:i,keep:1});return{id:i}},moveToBookmark:function(n){var s=this,l=s.dom,j,i,f,r,m,q,g,p;if(s.tridentSel){s.tridentSel.destroy()}if(n){if(n.start){f=l.createRng();r=l.getRoot();function o(z){var t=n[z?"start":"end"],v,x,y,u;if(t){for(x=r,v=t.length-1;v>=1;v--){u=x.childNodes;if(u.length){x=u[t[v]]}}if(z){f.setStart(x,t[0])}else{f.setEnd(x,t[0])}}}o(true);o();s.setRng(f)}else{if(n.id){function k(A){var z=l.get(n.id+"_"+A),y,t,v,x,u=n.keep;if(z){y=z.parentNode;if(A=="start"){if(!u){t=l.nodeIndex(z)}else{y=z.firstChild;t=1}m=q=y;g=p=t}else{if(!u){t=l.nodeIndex(z)}else{y=z.firstChild;t=1}q=y;p=t}if(!u){x=z.previousSibling;v=z.nextSibling;d(a.grep(z.childNodes),function(B){if(B.nodeType==3){B.nodeValue=B.nodeValue.replace(/\uFEFF/g,"")}});while(z=l.get(n.id+"_"+A)){l.remove(z,1)}if(x&&v&&x.nodeType==v.nodeType&&x.nodeType==3&&!a.isOpera){t=x.nodeValue.length;x.appendData(v.nodeValue);l.remove(v);if(A=="start"){m=q=x;g=p=t}else{q=x;p=t}}}}}function h(t){if(l.isBlock(t)&&!t.innerHTML){t.innerHTML=!b?'<br data-mce-bogus="1" />':" "}return t}k("start");k("end");if(m){f=l.createRng();f.setStart(h(m),g);f.setEnd(h(q),p);s.setRng(f)}}else{if(n.name){s.select(l.select(n.name)[n.index])}else{if(n.rng){s.setRng(n.rng)}}}}}},select:function(k,j){var i=this,l=i.dom,g=l.createRng(),f;if(k){f=l.nodeIndex(k);g.setStart(k.parentNode,f);g.setEnd(k.parentNode,f+1);if(j){function h(m,o){var n=new a.dom.TreeWalker(m,m);do{if(m.nodeType==3&&a.trim(m.nodeValue).length!=0){if(o){g.setStart(m,0)}else{g.setEnd(m,m.nodeValue.length)}return}if(m.nodeName=="BR"){if(o){g.setStartBefore(m)}else{g.setEndBefore(m)}return}}while(m=(o?n.next():n.prev()))}h(k,1);h(k)}i.setRng(g)}return k},isCollapsed:function(){var f=this,h=f.getRng(),g=f.getSel();if(!h||h.item){return false}if(h.compareEndPoints){return h.compareEndPoints("StartToEnd",h)===0}return !g||h.collapsed},collapse:function(i){var g=this,f=g.getRng(),h;if(f.item){h=f.item(0);f=g.win.document.body.createTextRange();f.moveToElementText(h)}f.collapse(!!i);g.setRng(f)},getSel:function(){var g=this,f=this.win;return f.getSelection?f.getSelection():f.document.selection},getRng:function(l){var g=this,h,i,k,j=g.win.document;if(l&&g.tridentSel){return g.tridentSel.getRangeAt(0)}try{if(h=g.getSel()){i=h.rangeCount>0?h.getRangeAt(0):(h.createRange?h.createRange():j.createRange())}}catch(f){}if(a.isIE&&i.setStart&&j.selection.createRange().item){k=j.selection.createRange().item(0);i=j.createRange();i.setStartBefore(k);i.setEndAfter(k)}if(!i){i=j.createRange?j.createRange():j.body.createTextRange()}if(g.selectedRange&&g.explicitRange){if(i.compareBoundaryPoints(i.START_TO_START,g.selectedRange)===0&&i.compareBoundaryPoints(i.END_TO_END,g.selectedRange)===0){i=g.explicitRange}else{g.selectedRange=null;g.explicitRange=null}}return i},setRng:function(i){var h,g=this;if(!g.tridentSel){h=g.getSel();if(h){g.explicitRange=i;h.removeAllRanges();h.addRange(i);g.selectedRange=h.getRangeAt(0)}}else{if(i.cloneRange){g.tridentSel.addRange(i);return}try{i.select()}catch(f){}}},setNode:function(g){var f=this;f.setContent(f.dom.getOuterHTML(g));return g},getNode:function(){var h=this,g=h.getRng(),i=h.getSel(),l,k=g.startContainer,f=g.endContainer;if(g.setStart){if(!g){return h.dom.getRoot()}l=g.commonAncestorContainer;if(!g.collapsed){if(g.startContainer==g.endContainer){if(g.startOffset-g.endOffset<2){if(g.startContainer.hasChildNodes()){l=g.startContainer.childNodes[g.startOffset]}}}if(a.isWebKit&&i.anchorNode&&i.anchorNode.nodeType==1){return i.anchorNode.childNodes[i.anchorOffset]}if(k.nodeType===3&&f.nodeType===3){function j(p,m){var o=p;while(p&&p.nodeType===3&&p.length===0){p=m?p.nextSibling:p.previousSibling}return p||o}if(k.length===g.startOffset){k=j(k.nextSibling,true)}else{k=k.parentNode}if(g.endOffset===0){f=j(f.previousSibling,false)}else{f=f.parentNode}if(k&&k===f){return k}}}if(l&&l.nodeType==3){return l.parentNode}return l}return g.item?g.item(0):g.parentElement()},getSelectedBlocks:function(g,f){var i=this,j=i.dom,m,h,l,k=[];m=j.getParent(g||i.getStart(),j.isBlock);h=j.getParent(f||i.getEnd(),j.isBlock);if(m){k.push(m)}if(m&&h&&m!=h){l=m;while((l=l.nextSibling)&&l!=h){if(j.isBlock(l)){k.push(l)}}}if(h&&m!=h){k.push(h)}return k},destroy:function(g){var f=this;f.win=null;if(f.tridentSel){f.tridentSel.destroy()}if(!g){a.removeUnload(f.destroy)}},_fixIESelection:function(){var h=this.dom,l=h.doc,i=l.body,g,m,f;l.documentElement.unselectable=true;function j(o,r){var p=i.createTextRange();try{p.moveToPoint(o,r)}catch(q){p=null}return p}function k(p){var o;if(p.button){o=j(p.x,p.y);if(o){if(o.compareEndPoints("StartToStart",m)>0){o.setEndPoint("StartToStart",m)}else{o.setEndPoint("EndToEnd",m)}o.select()}}else{n()}}function n(){var o=l.selection.createRange();if(m&&!o.item&&o.compareEndPoints("StartToEnd",o)===0){m.select()}h.unbind(l,"mouseup",n);h.unbind(l,"mousemove",k);m=g=0}h.bind(l,["mousedown","contextmenu"],function(o){if(o.target.nodeName==="HTML"){if(g){n()}f=l.documentElement;if(f.scrollHeight>f.clientHeight){return}g=1;m=j(o.x,o.y);if(m){h.bind(l,"mouseup",n);h.bind(l,"mousemove",k);h.win.focus();m.select()}}})}})})(tinymce);(function(a){a.dom.Serializer=function(f,h,c){var i,b,e=a.isIE,g=a.each,d;if(!f.apply_source_formatting){f.indent=false}f.remove_trailing_brs=true;h=h||a.DOM;c=c||new a.html.Schema(f);f.entity_encoding=f.entity_encoding||"named";i=new a.util.Dispatcher(self);b=new a.util.Dispatcher(self);d=new a.html.DomParser(f,c);d.addAttributeFilter("src,href,style",function(j,k){var o=j.length,l,r,n="data-mce-"+k,p=f.url_converter,q=f.url_converter_scope,m;while(o--){l=j[o];r=l.attributes.map[n];if(r!==m){l.attr(k,r.length>0?r:null);l.attr(n,null)}else{r=l.attributes.map[k];if(k==="style"){r=h.serializeStyle(h.parseStyle(r),l.name)}else{if(p){r=p.call(q,r,k,l.name)}}l.attr(k,r.length>0?r:null)}}});d.addAttributeFilter("class",function(j,k){var l=j.length,m,n;while(l--){m=j[l];n=m.attr("class").replace(/\s*mceItem\w+\s*/g,"");m.attr("class",n.length>0?n:null)}});d.addAttributeFilter("data-mce-type",function(j,l,k){var m=j.length,n;while(m--){n=j[m];if(n.attributes.map["data-mce-type"]==="bookmark"&&!k.cleanup){n.remove()}}});d.addNodeFilter("script,style",function(k,l){var m=k.length,n,o;function j(p){return p.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,"").replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,"")}while(m--){n=k[m];o=n.firstChild?n.firstChild.value:"";if(l==="script"){n.attr("type",(n.attr("type")||"text/javascript").replace(/^mce\-/,""));if(o.length>0){n.firstChild.value="// <![CDATA[\n"+j(o)+"\n// ]]>"}}else{if(o.length>0){n.firstChild.value="<!--\n"+j(o)+"\n-->"}}}});d.addNodeFilter("#comment",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.value.indexOf("[CDATA[")===0){m.name="#cdata";m.type=4;m.value=m.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(m.value.indexOf("mce:protected ")===0){m.name="#text";m.type=3;m.raw=true;m.value=unescape(m.value).substr(14)}}}});d.addNodeFilter("xml:namespace,input",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.type===7){m.remove()}else{if(m.type===1){if(k==="input"&&!("type" in m.attributes.map)){m.attr("type","text")}}}}});if(f.fix_list_elements){d.addNodeFilter("ul,ol",function(j,k){var l=j.length,m,n;while(l--){m=j[l];n=m.parent;if(n.name==="ul"||n.name==="ol"){if(m.prev&&m.prev.name==="li"){m.prev.append(m)}}}})}d.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(j,k){var l=j.length;while(l--){j[l].attr(k,null)}});return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,onPreProcess:i,onPostProcess:b,serialize:function(o,l){var k,p,n,j,m;if(e&&h.select("script,style,select").length>0){m=o.innerHTML;o=o.cloneNode(false);h.setHTML(o,m)}else{o=o.cloneNode(true)}k=o.ownerDocument.implementation;if(k.createHTMLDocument){p=k.createHTMLDocument("");g(o.nodeName=="BODY"?o.childNodes:[o],function(q){p.body.appendChild(p.importNode(q,true))});if(o.nodeName!="BODY"){o=p.body.firstChild}else{o=p.body}n=h.doc;h.doc=p}l=l||{};l.format=l.format||"html";if(!l.no_events){l.node=o;i.dispatch(self,l)}j=new a.html.Serializer(f,c);l.content=j.serialize(d.parse(l.getInner?o.innerHTML:a.trim(h.getOuterHTML(o),l),l));if(!l.no_events){b.dispatch(self,l)}if(n){h.doc=n}l.node=null;return l.content},addRules:function(j){c.addValidElements(j)},setRules:function(j){c.setValidElements(j)}}}})(tinymce);(function(a){a.dom.ScriptLoader=function(e){var k=0,j=1,f=2,l={},h=[],c={},b=[],d=0,g;function i(m,u){var v=this,q=a.DOM,s,o,r,n;function p(){q.remove(n);if(s){s.onreadystatechange=s.onload=s=null}u()}n=q.uniqueId();if(a.isIE6){o=new a.util.URI(m);r=location;if(o.host==r.hostname&&o.port==r.port&&(o.protocol+":")==r.protocol){a.util.XHR.send({url:a._addVer(o.getURI()),success:function(x){var t=q.create("script",{type:"text/javascript"});t.text=x;document.getElementsByTagName("head")[0].appendChild(t);q.remove(t);p()}});return}}s=q.create("script",{id:n,type:"text/javascript",src:a._addVer(m)});if(!a.isIE){s.onload=p}if(!a.isOpera){s.onreadystatechange=function(){var t=s.readyState;if(t=="complete"||t=="loaded"){p()}}}(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}this.isDone=function(m){return l[m]==f};this.markDone=function(m){l[m]=f};this.add=this.load=function(m,q,n){var o,p=l[m];if(p==g){h.push(m);l[m]=k}if(q){if(!c[m]){c[m]=[]}c[m].push({func:q,scope:n||this})}};this.loadQueue=function(n,m){this.loadScripts(h,n,m)};this.loadScripts=function(m,q,p){var o;function n(r){a.each(c[r],function(s){s.func.call(s.scope)});c[r]=g}b.push({func:q,scope:p||this});o=function(){var r=a.grep(m);m.length=0;a.each(r,function(s){if(l[s]==f){n(s);return}if(l[s]!=j){l[s]=j;d++;i(s,function(){l[s]=f;d--;n(s);o()})}});if(!d){a.each(b,function(s){s.func.call(s.scope)});b.length=0}};o()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(b,a){var c=b;function d(h,g,j,i){var f,e;if(h){if(!i&&h[g]){return h[g]}if(h!=a){f=h[j];if(f){return f}for(e=h.parentNode;e&&e!=a;e=e.parentNode){f=e[j];if(f){return f}}}}}this.current=function(){return c};this.next=function(e){return(c=d(c,"firstChild","nextSibling",e))};this.prev=function(e){return(c=d(c,"lastChild","previousSibling",e))}};(function(a){a.dom.RangeUtils=function(c){var b="\uFEFF";this.walk=function(d,r){var j=d.startContainer,f=d.startOffset,o=d.endContainer,l=d.endOffset,i,k,n,h,s,q,e;e=c.select("td.mceSelected,th.mceSelected");if(e.length>0){a.each(e,function(t){r([t])});return}function p(v,u,t){var x=[];for(;v&&v!=t;v=v[u]){x.push(v)}return x}function m(u,t){do{if(u.parentNode==t){return u}u=u.parentNode}while(u)}function g(v,u,x){var t=x?"nextSibling":"previousSibling";for(h=v,s=h.parentNode;h&&h!=u;h=s){s=h.parentNode;q=p(h==v?h:h[t],t);if(q.length){if(!x){q.reverse()}r(q)}}}if(j.nodeType==1&&j.hasChildNodes()){j=j.childNodes[f]}if(o.nodeType==1&&o.hasChildNodes()){o=o.childNodes[Math.min(l-1,o.childNodes.length-1)]}i=c.findCommonAncestor(j,o);if(j==o){return r([j])}for(h=j;h;h=h.parentNode){if(h==o){return g(j,i,true)}if(h==i){break}}for(h=o;h;h=h.parentNode){if(h==j){return g(o,i)}if(h==i){break}}k=m(j,i)||j;n=m(o,i)||o;g(j,k,true);q=p(k==j?k:k.nextSibling,"nextSibling",n==o?n.nextSibling:n);if(q.length){r(q)}g(o,n)}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(b){var a=b.dom.Event,c=b.each;b.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(h,i){var p=this,m=h.root,k=h.items,o=h.enableUpDown,g=h.enableLeftRight||!h.enableUpDown,l=h.excludeFromTabOrder,j,f,n,d,e;i=i||b.DOM;j=function(q){e=q.target.id};f=function(q){i.setAttrib(q.target.id,"tabindex","-1")};d=function(q){var r=i.get(e);i.setAttrib(r,"tabindex","0");r.focus()};p.focus=function(){i.get(e).focus()};p.destroy=function(){c(k,function(q){i.unbind(i.get(q.id),"focus",j);i.unbind(i.get(q.id),"blur",f)});i.unbind(i.get(m),"focus",d);i.unbind(i.get(m),"keydown",n);k=i=m=p.focus=j=f=n=d=null;p.destroy=function(){}};p.moveFocus=function(t,r){var q=-1,u=p.controls,s;if(!e){return}c(k,function(x,v){if(x.id===e){q=v;return false}});q+=t;if(q<0){q=k.length-1}else{if(q>=k.length){q=0}}s=k[q];i.setAttrib(e,"tabindex","-1");i.setAttrib(s.id,"tabindex","0");i.get(s.id).focus();if(h.actOnFocus){h.onAction(s.id)}if(r){a.cancel(r)}};n=function(y){var r=37,s=39,x=38,z=40,u=27,t=14,v=13,q=32;switch(y.keyCode){case r:if(g){p.moveFocus(-1)}break;case s:if(g){p.moveFocus(1)}break;case x:if(o){p.moveFocus(-1)}break;case z:if(o){p.moveFocus(1)}break;case u:if(h.onCancel){h.onCancel();a.cancel(y)}break;case t:case v:case q:if(h.onAction){h.onAction(e);a.cancel(y)}break}};c(k,function(s,q){var r;if(!s.id){s.id=i.uniqueId("_mce_item_")}if(l){i.bind(s.id,"blur",f);r="-1"}else{r=(q===0?"0":"-1")}i.setAttrib(s.id,"tabindex",r);i.bind(i.get(s.id),"focus",j)});if(k[0]){e=k[0].id}i.setAttrib(m,"tabindex","-1");i.bind(i.get(m),"focus",d);i.bind(i.get(m),"keydown",n)}})})(tinymce);(function(a){var c=a.DOM,b=a.is;a.create("tinymce.ui.Control",{Control:function(f,e,d){this.id=f;this.settings=e=e||{};this.rendered=false;this.onRender=new a.util.Dispatcher(this);this.classPrefix="";this.scope=e.scope||this;this.disabled=0;this.active=0;this.editor=d},setAriaProperty:function(d,f){var e=c.get(this.id+"_aria")||c.get(this.id);if(e){c.setAttrib(e,"aria-"+d,!!f)}},focus:function(){c.get(this.id).focus()},setDisabled:function(d){if(d!=this.disabled){this.setAriaProperty("disabled",d);this.setState("Disabled",d);this.setState("Enabled",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState("Active",d);this.active=d;this.setAriaProperty("pressed",d)}},isActive:function(){return this.active},setState:function(f,d){var e=c.get(this.id);f=this.classPrefix+f;if(d){c.addClass(e,f)}else{c.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){c.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(b(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(b(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){c.remove(this.id);this.destroy()},destroy:function(){a.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(c,b,a){this.parent(c,b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(b,a){this.parent(b,a);this.classPrefix="mceSeparator";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});(function(b){var d=b.is,c=b.DOM,e=b.each,a=b.walk;b.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix="mceMenuItem"},setSelected:function(f){this.setState("Selected",f);this.setAriaProperty("checked",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(d(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(b){var d=b.is,c=b.DOM,e=b.each,a=b.walk;b.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(h,g){var f=this;f.parent(h,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new b.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(h){if(h.expand){h.expand()}},"items",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(h){if(h.collapse){h.collapse()}},"items",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new b.ui.MenuItem(f.id||c.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},"items",f);f.items={}},createMenu:function(g){var f=new b.ui.Menu(g.id||c.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(b){var e=b.is,d=b.DOM,f=b.each,a=b.dom.Event,c=b.dom.Element;b.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(h,g){g=g||{};g.container=g.container||d.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(e(g.icons)&&!g.icons){g["class"]+=" mceNoIcons"}this.parent(h,g);this.onShowMenu=new b.util.Dispatcher(this);this.onHideMenu=new b.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(j){var h=this,i=h.settings,g;j.container=j.container||i.container;j.parent=h;j.constrain=j.constrain||i.constrain;j["class"]=j["class"]||i["class"];j.vp_offset_x=j.vp_offset_x||i.vp_offset_x;j.vp_offset_y=j.vp_offset_y||i.vp_offset_y;j.keyboard_focus=i.keyboard_focus;g=new b.ui.DropMenu(j.id||d.uniqueId(),j);g.onAddItem.add(h.onAddItem.dispatch,h.onAddItem);return g},focus:function(){var g=this;if(g.keyboardNav){g.keyboardNav.focus()}},update:function(){var i=this,j=i.settings,g=d.get("menu_"+i.id+"_tbl"),l=d.get("menu_"+i.id+"_co"),h,k;h=j.max_width?Math.min(g.clientWidth,j.max_width):g.clientWidth;k=j.max_height?Math.min(g.clientHeight,j.max_height):g.clientHeight;if(!d.boxModel){i.element.setStyles({width:h+2,height:k+2})}else{i.element.setStyles({width:h,height:k})}if(j.max_width){d.setStyle(l,"width",h)}if(j.max_height){d.setStyle(l,"height",k);if(g.clientHeight<j.max_height){d.setStyle(l,"overflow","hidden")}}},showMenu:function(p,o,u){var z=this,A=z.settings,n,g=d.getViewPort(),r,l,v,q,i=2,k,j,m=z.classPrefix;z.collapse(1);if(z.isMenuVisible){return}if(!z.rendered){n=d.add(z.settings.container,z.renderNode());f(z.items,function(h){h.postRender()});z.element=new c("menu_"+z.id,{blocker:1,container:A.container})}else{n=d.get("menu_"+z.id)}if(!b.isOpera){d.setStyles(n,{left:-65535,top:-65535})}d.show(n);z.update();p+=A.offset_x||0;o+=A.offset_y||0;g.w-=4;g.h-=4;if(A.constrain){r=n.clientWidth-i;l=n.clientHeight-i;v=g.x+g.w;q=g.y+g.h;if((p+A.vp_offset_x+r)>v){p=u?u-r:Math.max(0,(v-A.vp_offset_x)-r)}if((o+A.vp_offset_y+l)>q){o=Math.max(0,(q-A.vp_offset_y)-l)}}d.setStyles(n,{left:p,top:o});z.element.update();z.isMenuVisible=1;z.mouseClickFunc=a.add(n,"click",function(s){var h;s=s.target;if(s&&(s=d.getParent(s,"tr"))&&!d.hasClass(s,m+"ItemSub")){h=z.items[s.id];if(h.isDisabled()){return}k=z;while(k){if(k.hideMenu){k.hideMenu()}k=k.settings.parent}if(h.settings.onclick){h.settings.onclick(s)}return a.cancel(s)}});if(z.hasMenus()){z.mouseOverFunc=a.add(n,"mouseover",function(x){var h,t,s;x=x.target;if(x&&(x=d.getParent(x,"tr"))){h=z.items[x.id];if(z.lastMenu){z.lastMenu.collapse(1)}if(h.isDisabled()){return}if(x&&d.hasClass(x,m+"ItemSub")){t=d.getRect(x);h.showMenu((t.x+t.w-i),t.y-i,t.x);z.lastMenu=h;d.addClass(d.get(h.id).firstChild,m+"ItemActive")}}})}a.add(n,"keydown",z._keyHandler,z);z.onShowMenu.dispatch(z);if(A.keyboard_focus){z._setupKeyboardNav()}},hideMenu:function(j){var g=this,i=d.get("menu_"+g.id),h;if(!g.isMenuVisible){return}if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(i,"mouseover",g.mouseOverFunc);a.remove(i,"click",g.mouseClickFunc);a.remove(i,"keydown",g._keyHandler);d.hide(i);g.isMenuVisible=0;if(!j){g.collapse(1)}if(g.element){g.element.hide()}if(h=d.get(g.id)){d.removeClass(h.firstChild,g.classPrefix+"ItemActive")}g.onHideMenu.dispatch(g)},add:function(i){var g=this,h;i=g.parent(i);if(g.isRendered&&(h=d.get("menu_"+g.id))){g._add(d.select("tbody",h)[0],i)}return i},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){d.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=d.get("menu_"+g.id);if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(h,"mouseover",g.mouseOverFunc);a.remove(d.select("a",h),"focus",g.mouseOverFunc);a.remove(h,"click",g.mouseClickFunc);a.remove(h,"keydown",g._keyHandler);if(g.element){g.element.remove()}d.remove(h)},renderNode:function(){var i=this,j=i.settings,l,h,k,g;g=d.create("div",{role:"listbox",id:"menu_"+i.id,"class":j["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});if(i.settings.parent){d.setAttrib(g,"aria-parent","menu_"+i.settings.parent.id)}k=d.add(g,"div",{role:"presentation",id:"menu_"+i.id+"_co","class":i.classPrefix+(j["class"]?" "+j["class"]:"")});i.element=new c("menu_"+i.id,{blocker:1,container:j.container});if(j.menu_line){d.add(k,"span",{"class":i.classPrefix+"Line"})}l=d.add(k,"table",{role:"presentation",id:"menu_"+i.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});h=d.add(l,"tbody");f(i.items,function(m){i._add(h,m)});i.rendered=true;return g},_setupKeyboardNav:function(){var h,g,i=this;h=d.select("#menu_"+i.id)[0];g=d.select("a[role=option]","menu_"+i.id);g.splice(0,0,h);i.keyboardNav=new b.ui.KeyboardNavigation({root:"menu_"+i.id,items:g,onCancel:function(){i.hideMenu()},enableUpDown:true});h.focus()},_keyHandler:function(g){var h=this,i;switch(g.keyCode){case 37:if(h.settings.parent){h.hideMenu();h.settings.parent.focus();a.cancel(g)}break;case 39:if(h.mouseOverFunc){h.mouseOverFunc(g)}break}},_add:function(j,h){var i,q=h.settings,p,l,k,m=this.classPrefix,g;if(q.separator){l=d.add(j,"tr",{id:h.id,"class":m+"ItemSeparator"});d.add(l,"td",{"class":m+"ItemSeparator"});if(i=l.previousSibling){d.addClass(i,"mceLast")}return}i=l=d.add(j,"tr",{id:h.id,"class":m+"Item "+m+"ItemEnabled"});i=k=d.add(i,q.titleItem?"th":"td");i=p=d.add(i,"a",{id:h.id+"_aria",role:q.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});if(q.parent){d.setAttrib(p,"aria-haspopup","true");d.setAttrib(p,"aria-owns","menu_"+h.id)}d.addClass(k,q["class"]);g=d.add(i,"span",{"class":"mceIcon"+(q.icon?" mce_"+q.icon:"")});if(q.icon_src){d.add(g,"img",{src:q.icon_src})}i=d.add(i,q.element||"span",{"class":"mceText",title:h.settings.title},h.settings.title);if(h.settings.style){d.setAttrib(i,"style",h.settings.style)}if(j.childNodes.length==1){d.addClass(l,"mceFirst")}if((i=l.previousSibling)&&d.hasClass(i,m+"ItemSeparator")){d.addClass(l,"mceFirst")}if(h.collapse){d.addClass(l,m+"ItemSub")}if(i=l.previousSibling){d.removeClass(i,"mceLast")}d.addClass(l,"mceLast")}})})(tinymce);(function(a){var b=a.DOM;a.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,d,c){this.parent(e,d,c);this.classPrefix="mceButton"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=b.encode(e.label||"");d='<a role="button" id="'+this.id+'" href="javascript:;" class="'+f+" "+f+"Enabled "+e["class"]+(c?" "+f+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+b.encode(e.title)+'">';if(e.image){d+='<img class="mceIcon" src="'+e.image+'" />'+c}else{d+='<span class="mceIcon '+e["class"]+'"></span>'+(c?'<span class="'+f+'Label">'+c+"</span>":"")}d+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+e.title+"</span>";d+="</a>";return d},postRender:function(){var c=this,d=c.settings;a.dom.Event.add(c.id,"click",function(f){if(!c.isDisabled()){return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(c){var d=c.DOM,b=c.dom.Event,e=c.each,a=c.util.Dispatcher;c.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(i,h,f){var g=this;g.parent(i,h,f);g.items=[];g.onChange=new a(g);g.onPostRender=new a(g);g.onAdd=new a(g);g.onRenderMenu=new c.util.Dispatcher(this);g.classPrefix="mceListBox"},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){var g=this,h,i;if(f!=g.selectedIndex){h=d.get(g.id+"_text");i=g.items[f];if(i){g.selectedValue=i.value;g.selectedIndex=f;d.setHTML(h,d.encode(i.title));d.removeClass(h,"mceTitle");d.setAttrib(g.id,"aria-valuenow",i.title)}else{d.setHTML(h,d.encode(g.settings.title));d.addClass(h,"mceTitle");g.selectedValue=g.selectedIndex=null;d.setAttrib(g.id,"aria-valuenow",g.settings.title)}h=0}},add:function(i,f,h){var g=this;h=h||{};h=c.extend(h,{title:i,value:f});g.items.push(h);g.onAdd.dispatch(g,h)},getLength:function(){return this.items.length},renderHTML:function(){var i="",f=this,g=f.settings,j=f.classPrefix;i='<span role="button" aria-haspopup="true" aria-labelledby="'+f.id+'_text" aria-describedby="'+f.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+f.id+'" cellpadding="0" cellspacing="0" class="'+j+" "+j+"Enabled"+(g["class"]?(" "+g["class"]):"")+'"><tbody><tr>';i+="<td>"+d.createHTML("span",{id:f.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},f.settings.title);i+=d.createHTML("a",{id:f.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},d.encode(f.settings.title))+"</td>";i+="<td>"+d.createHTML("a",{id:f.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span></span>')+"</td>";i+="</tr></tbody></table></span>";return i},showMenu:function(){var g=this,j,i,h=d.get(this.id),f;if(g.isDisabled()||g.items.length==0){return}if(g.menu&&g.menu.isMenuVisible){return g.hideMenu()}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}j=d.getPos(this.settings.menu_container);i=d.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.keyboard_focus=!c.isOpera;if(g.oldID){f.items[g.oldID].setSelected(0)}e(g.items,function(k){if(k.value===g.selectedValue){f.items[k.id].setSelected(1);g.oldID=k.id}});f.showMenu(0,h.clientHeight);b.add(d.doc,"mousedown",g.hideMenu,g);d.addClass(g.id,g.classPrefix+"Selected")},hideMenu:function(g){var f=this;if(f.menu&&f.menu.isMenuVisible){d.removeClass(f.id,f.classPrefix+"Selected");if(g&&g.type=="mousedown"&&(g.target.id==f.id+"_text"||g.target.id==f.id+"_open")){return}if(!g||!d.getParent(g.target,".mceMenu")){d.removeClass(f.id,f.classPrefix+"Selected");b.remove(d.doc,"mousedown",f.hideMenu,f);f.menu.hideMenu()}}},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+"_menu",{menu_line:1,"class":g.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});f.onHideMenu.add(function(){g.hideMenu();g.focus()});f.add({title:g.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(g.settings.onselect("")!==false){g.select("")}}});e(g.items,function(h){if(h.value===undefined){f.add({title:h.title,"class":"mceMenuItemTitle",onclick:function(){if(g.settings.onselect("")!==false){g.select("")}}})}else{h.id=d.uniqueId();h.onclick=function(){if(g.settings.onselect(h.value)!==false){g.select(h.value)}};f.add(h)}});g.onRenderMenu.dispatch(g,f);g.menu=f},postRender:function(){var f=this,g=f.classPrefix;b.add(f.id,"click",f.showMenu,f);b.add(f.id,"keydown",function(h){if(h.keyCode==32){f.showMenu(h);b.cancel(h)}});b.add(f.id,"focus",function(){if(!f._focused){f.keyDownHandler=b.add(f.id,"keydown",function(h){if(h.keyCode==40){f.showMenu();b.cancel(h)}});f.keyPressHandler=b.add(f.id,"keypress",function(i){var h;if(i.keyCode==13){h=f.selectedValue;f.selectedValue=null;b.cancel(i);f.settings.onselect(h)}})}f._focused=1});b.add(f.id,"blur",function(){b.remove(f.id,"keydown",f.keyDownHandler);b.remove(f.id,"keypress",f.keyPressHandler);f._focused=0});if(c.isIE6||!d.boxModel){b.add(f.id,"mouseover",function(){if(!d.hasClass(f.id,g+"Disabled")){d.addClass(f.id,g+"Hover")}});b.add(f.id,"mouseout",function(){if(!d.hasClass(f.id,g+"Disabled")){d.removeClass(f.id,g+"Hover")}})}f.onPostRender.dispatch(f,d.get(f.id))},destroy:function(){this.parent();b.clear(this.id+"_text");b.clear(this.id+"_open")}})})(tinymce);(function(c){var d=c.DOM,b=c.dom.Event,e=c.each,a=c.util.Dispatcher;c.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(g,f){this.parent(g,f);this.classPrefix="mceNativeListBox"},setDisabled:function(f){d.get(this.id).disabled=f;this.setAriaProperty("disabled",f)},isDisabled:function(){return d.get(this.id).disabled},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){d.get(this.id).selectedIndex=f+1;this.selectedValue=this.items[f]?this.items[f].value:null},add:function(j,g,f){var i,h=this;f=f||{};f.value=g;if(h.isRendered()){d.add(d.get(this.id),"option",f,j)}i={title:j,value:g,attribs:f};h.items.push(i);h.onAdd.dispatch(h,i)},getLength:function(){return this.items.length},renderHTML:function(){var g,f=this;g=d.createHTML("option",{value:""},"-- "+f.settings.title+" --");e(f.items,function(h){g+=d.createHTML("option",{value:h.value},h.title)});g=d.createHTML("select",{id:f.id,"class":"mceNativeListBox","aria-labelledby":f.id+"_aria"},g);g+=d.createHTML("span",{id:f.id+"_aria",style:"display: none"},f.settings.title);return g},postRender:function(){var g=this,h,i=true;g.rendered=true;function f(k){var j=g.items[k.target.selectedIndex-1];if(j&&(j=j.value)){g.onChange.dispatch(g,j);if(g.settings.onselect){g.settings.onselect(j)}}}b.add(g.id,"change",f);b.add(g.id,"keydown",function(k){var j;b.remove(g.id,"change",h);i=false;j=b.add(g.id,"blur",function(){if(i){return}i=true;b.add(g.id,"change",f);b.remove(g.id,"blur",j)});if(k.keyCode==13||k.keyCode==32){f(k);return b.cancel(k)}});g.onPostRender.dispatch(g,d.get(g.id))}})})(tinymce);(function(b){var c=b.DOM,a=b.dom.Event,d=b.each;b.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(g,f,e){this.parent(g,f,e);this.onRenderMenu=new b.util.Dispatcher(this);f.menu_container=f.menu_container||c.doc.body},showMenu:function(){var g=this,j,i,h=c.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}j=c.getPos(g.settings.menu_container);i=c.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.vp_offset_x=i.x;f.settings.vp_offset_y=i.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,h.clientHeight);a.add(c.doc,"mousedown",g.hideMenu,g);g.setState("Selected",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:f.settings.icons});e.onHideMenu.add(function(){f.hideMenu();f.focus()});f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&c.getParent(g.target,function(h){return h.id===f.id||h.id===f.id+"_open"})){return}if(!g||!c.getParent(g.target,".mceMenu")){f.setState("Selected",0);a.remove(c.doc,"mousedown",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,"click",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(b){var c=b.DOM,a=b.dom.Event,d=b.each;b.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(g,f,e){this.parent(g,f,e);this.classPrefix="mceSplitButton"},renderHTML:function(){var i,f=this,g=f.settings,e;i="<tbody><tr>";if(g.image){e=c.createHTML("img ",{src:g.image,role:"presentation","class":"mceAction "+g["class"]})}else{e=c.createHTML("span",{"class":"mceAction "+g["class"]},"")}e+=c.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:f.id+"_voice",style:"display:none;"},g.title);i+="<td >"+c.createHTML("a",{role:"button",id:f.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";e=c.createHTML("span",{"class":"mceOpen "+g["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span>');i+="<td >"+c.createHTML("a",{role:"button",id:f.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";i+="</tr></tbody>";i=c.createHTML("table",{id:f.id,role:"presentation",tabindex:"0","class":"mceSplitButton mceSplitButtonEnabled "+g["class"],cellpadding:"0",cellspacing:"0",title:g.title},i);return c.createHTML("span",{role:"button","aria-labelledby":f.id+"_voice","aria-haspopup":"true"},i)},postRender:function(){var f=this,g=f.settings,e;if(g.onclick){e=function(h){if(!f.isDisabled()){g.onclick(f.value);a.cancel(h)}};a.add(f.id+"_action","click",e);a.add(f.id,["click","keydown"],function(h){var m=32,k=14,i=13,j=38,l=40;if((h.keyCode===32||h.keyCode===13||h.keyCode===14)&&!h.altKey&&!h.ctrlKey&&!h.metaKey){e();a.cancel(h)}else{if(h.type==="click"||h.keyCode===l){f.showMenu();a.cancel(h)}}})}a.add(f.id+"_open","click",function(h){f.showMenu();a.cancel(h)});a.add([f.id,f.id+"_open"],"focus",function(){f._focused=1});a.add([f.id,f.id+"_open"],"blur",function(){f._focused=0});if(b.isIE6||!c.boxModel){a.add(f.id,"mouseover",function(){if(!c.hasClass(f.id,"mceSplitButtonDisabled")){c.addClass(f.id,"mceSplitButtonHover")}});a.add(f.id,"mouseout",function(){if(!c.hasClass(f.id,"mceSplitButtonDisabled")){c.removeClass(f.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();a.clear(this.id+"_action");a.clear(this.id+"_open");a.clear(this.id)}})})(tinymce);(function(b){var d=b.DOM,a=b.dom.Event,c=b.is,e=b.each;b.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(i,h,f){var g=this;g.parent(i,h,f);g.settings=h=b.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},g.settings);g.onShowMenu=new b.util.Dispatcher(g);g.onHideMenu=new b.util.Dispatcher(g);g.value=h.default_color},showMenu:function(){var f=this,g,j,i,h;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}i=d.get(f.id);d.show(f.id+"_menu");d.addClass(i,"mceSplitButtonSelected");h=d.getPos(i);d.setStyles(f.id+"_menu",{left:h.x,top:h.y+i.clientHeight,zIndex:200000});i=0;a.add(d.doc,"mousedown",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+"_menu","keydown",function(k){if(k.keyCode==27){f.hideMenu()}});d.select("a",f.id+"_menu")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&d.getParent(g.target,function(h){return h.id===f.id+"_open"})){return}if(!g||!d.getParent(g.target,".mceSplitButtonMenu")){d.removeClass(f.id,"mceSplitButtonSelected");a.remove(d.doc,"mousedown",f.hideMenu,f);a.remove(f.id+"_menu","keydown",f._keyHandler);d.hide(f.id+"_menu")}f.onHideMenu.dispatch(f);f.isMenuVisible=0;f.editor.focus()},renderMenu:function(){var p=this,h,k=0,q=p.settings,g,j,l,o,f;o=d.add(q.menu_container,"div",{role:"listbox",id:p.id+"_menu","class":q.menu_class+" "+q["class"],style:"position:absolute;left:0;top:-1000px;"});h=d.add(o,"div",{"class":q["class"]+" mceSplitButtonMenu"});d.add(h,"span",{"class":"mceMenuLine"});g=d.add(h,"table",{role:"presentation","class":"mceColorSplitMenu"});j=d.add(g,"tbody");k=0;e(c(q.colors,"array")?q.colors:q.colors.split(","),function(i){i=i.replace(/^#/,"");if(!k--){l=d.add(j,"tr");k=q.grid_width-1}g=d.add(l,"td");g=d.add(g,"a",{role:"option",href:"javascript:;",style:{backgroundColor:"#"+i},title:p.editor.getLang("colors."+i,i),"data-mce-color":"#"+i});if(p.editor.forcedHighContrastMode){g=d.add(g,"canvas",{width:16,height:16,"aria-hidden":"true"});if(g.getContext&&(f=g.getContext("2d"))){f.fillStyle="#"+i;f.fillRect(0,0,16,16)}else{d.remove(g)}}});if(q.more_colors_func){g=d.add(j,"tr");g=d.add(g,"td",{colspan:q.grid_width,"class":"mceMoreColors"});g=d.add(g,"a",{role:"option",id:p.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},q.more_colors_title);a.add(g,"click",function(i){q.more_colors_func.call(q.more_colors_scope||this);return a.cancel(i)})}d.addClass(h,"mceColorSplitMenu");new b.ui.KeyboardNavigation({root:p.id+"_menu",items:d.select("a",p.id+"_menu"),onCancel:function(){p.hideMenu();p.focus()}});a.add(p.id+"_menu","mousedown",function(i){return a.cancel(i)});a.add(p.id+"_menu","click",function(i){var m;i=d.getParent(i.target,"a",j);if(i.nodeName.toLowerCase()=="a"&&(m=i.getAttribute("data-mce-color"))){p.setColor(m)}return a.cancel(i)});return o},setColor:function(f){this.displayColor(f);this.hideMenu();this.settings.onselect(f)},displayColor:function(g){var f=this;d.setStyle(f.id+"_preview","backgroundColor",g);f.value=g},postRender:function(){var f=this,g=f.id;f.parent();d.add(g+"_action","div",{id:g+"_preview","class":"mceColorPreview"});d.setStyle(f.id+"_preview","backgroundColor",f.value)},destroy:function(){this.parent();a.clear(this.id+"_menu");a.clear(this.id+"_more");d.remove(this.id+"_menu")}})})(tinymce);(function(b){var d=b.DOM,c=b.each,a=b.dom.Event;b.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var e=this,i=[],g=e.controls,j=b.each,f=e.settings;i.push('<div id="'+e.id+'" role="group" aria-labelledby="'+e.id+'_voice">');i.push("<span role='application'>");i.push('<span id="'+e.id+'_voice" class="mceVoiceLabel" style="display:none;">'+d.encode(f.name)+"</span>");j(g,function(h){i.push(h.renderHTML())});i.push("</span>");i.push("</div>");return i.join("")},focus:function(){this.keyNav.focus()},postRender:function(){var f=this,e=[];c(f.controls,function(g){c(g.controls,function(h){if(h.id){e.push(h)}})});f.keyNav=new b.ui.KeyboardNavigation({root:f.id,items:e,onCancel:function(){f.editor.focus()},excludeFromTabOrder:!f.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent();e.keyNav.destroy();a.clear(e.id)}})})(tinymce);(function(a){var c=a.DOM,b=a.each;a.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var m=this,f="",j,k,n=m.settings,e,d,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];d=l[e-1];g=l[e+1];if(e===0){j="mceToolbarStart";if(k.Button){j+=" mceToolbarStartButton"}else{if(k.SplitButton){j+=" mceToolbarStartSplitButton"}else{if(k.ListBox){j+=" mceToolbarStartListBox"}}}f+=c.createHTML("td",{"class":j},c.createHTML("span",null,"<!-- IE -->"))}if(d&&k.ListBox){if(d.Button||d.SplitButton){f+=c.createHTML("td",{"class":"mceToolbarEnd"},c.createHTML("span",null,"<!-- IE -->"))}}if(c.stdMode){f+='<td style="position: relative">'+k.renderHTML()+"</td>"}else{f+="<td>"+k.renderHTML()+"</td>"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=c.createHTML("td",{"class":"mceToolbarStart"},c.createHTML("span",null,"<!-- IE -->"))}}}j="mceToolbarEnd";if(k.Button){j+=" mceToolbarEndButton"}else{if(k.SplitButton){j+=" mceToolbarEndSplitButton"}else{if(k.ListBox){j+=" mceToolbarEndListBox"}}}f+=c.createHTML("td",{"class":j},c.createHTML("span",null,"<!-- IE -->"));return c.createHTML("table",{id:m.id,"class":"mceToolbar"+(n["class"]?" "+n["class"]:""),cellpadding:"0",cellspacing:"0",align:m.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+f+"</tr></tbody>")}})})(tinymce);(function(b){var a=b.util.Dispatcher,c=b.each;b.create("tinymce.AddOnManager",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new a(d)},get:function(d){return this.lookup[d]},requireLangPack:function(e){var d=b.settings;if(d&&d.language&&d.language_load!==false){b.ScriptLoader.add(this.urls[e]+"/langs/"+d.language+".js")}},add:function(e,d){this.items.push(d);this.lookup[e]=d;this.onAdd.dispatch(this,e,d);return d},load:function(h,e,d,g){var f=this;if(f.urls[h]){return}if(e.indexOf("/")!=0&&e.indexOf("://")==-1){e=b.baseURL+"/"+e}f.urls[h]=e.substring(0,e.lastIndexOf("/"));if(!f.lookup[h]){b.ScriptLoader.add(e,d,g)}}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(h){var g=h.each,b=h.extend,k=h.DOM,j=h.dom.Event,f=h.ThemeManager,d=h.PluginManager,a=h.explode,i=h.util.Dispatcher,e,c=0;h.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(h.documentBaseURL)){h.documentBaseURL+="/"}h.baseURL=new h.util.URI(h.documentBaseURL).toAbsolute(h.baseURL);h.baseURI=new h.util.URI(h.baseURL);h.onBeforeUnload=new i(h);j.add(window,"beforeunload",function(l){h.onBeforeUnload.dispatch(h,l)});h.onAddEditor=new i(h);h.onRemoveEditor=new i(h);h.EditorManager=b(h,{editors:[],i18n:{},activeEditor:null,init:function(r){var o=this,q,m=h.ScriptLoader,u,p=[],n;function l(x,y,t){var v=x[y];if(!v){return}if(h.is(v,"string")){t=v.replace(/\.\w+$/,"");t=t?h.resolve(t):0;v=h.resolve(v)}return v.apply(t||this,Array.prototype.slice.call(arguments,2))}r=b({theme:"simple",language:"en"},r);o.settings=r;j.add(document,"init",function(){var s,v;l(r,"onpageload");switch(r.mode){case"exact":s=r.elements||"";if(s.length>0){g(a(s),function(x){if(k.get(x)){n=new h.Editor(x,r);p.push(n);n.render(1)}else{g(document.forms,function(y){g(y.elements,function(z){if(z.name===x){x="mce_editor_"+c++;k.setAttrib(z,"id",x);n=new h.Editor(x,r);p.push(n);n.render(1)}})})}})}break;case"textareas":case"specific_textareas":function t(y,x){return x.constructor===RegExp?x.test(y.className):k.hasClass(y,x)}g(k.select("textarea"),function(x){if(r.editor_deselector&&t(x,r.editor_deselector)){return}if(!r.editor_selector||t(x,r.editor_selector)){u=k.get(x.name);if(!x.id&&!u){x.id=x.name}if(!x.id||o.get(x.id)){x.id=k.uniqueId()}n=new h.Editor(x.id,r);p.push(n);n.render(1)}});break}if(r.oninit){s=v=0;g(p,function(x){v++;if(!x.initialized){x.onInit.add(function(){s++;if(s==v){l(r,"oninit")}})}else{s++}if(s==v){l(r,"oninit")}})}})},get:function(l){if(l===e){return this.editors}return this.editors[l]},getInstanceById:function(l){return this.get(l)},add:function(n){var m=this,l=m.editors;l[n.id]=n;l.push(n);m._setActive(n);m.onAddEditor.dispatch(m,n);return n},remove:function(m){var o=this,n,l=o.editors;if(!l[m.id]){return null}delete l[m.id];for(n=0;n<l.length;n++){if(l[n]==m){l.splice(n,1);break}}if(o.activeEditor==m){o._setActive(l[0])}m.destroy();o.onRemoveEditor.dispatch(o,m);return m},execCommand:function(r,p,o){var q=this,n=q.get(o),l;switch(r){case"mceFocus":n.focus();return true;case"mceAddEditor":case"mceAddControl":if(!q.get(o)){new h.Editor(o,q.settings).render()}return true;case"mceAddFrameControl":l=o.window;l.tinyMCE=tinyMCE;l.tinymce=h;h.DOM.doc=l.document;h.DOM.win=l;n=new h.Editor(o.element_id,o);n.render();if(h.isIE){function m(){n.destroy();l.detachEvent("onunload",m);l=l.tinyMCE=l.tinymce=null}l.attachEvent("onunload",m)}o.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(n){n.remove()}return true;case"mceToggleEditor":if(!n){q.execCommand("mceAddControl",0,o);return true}if(n.isHidden()){n.show()}else{n.hide()}return true}if(q.activeEditor){return q.activeEditor.execCommand(r,p,o)}return false},execInstanceCommand:function(p,o,n,m){var l=this.get(p);if(l){return l.execCommand(o,n,m)}return false},triggerSave:function(){g(this.editors,function(l){l.save()})},addI18n:function(n,q){var l,m=this.i18n;if(!h.is(n,"string")){g(n,function(r,p){g(r,function(t,s){g(t,function(v,u){if(s==="common"){m[p+"."+u]=v}else{m[p+"."+s+"."+u]=v}})})})}else{g(q,function(r,p){m[n+"."+p]=r})}},_setActive:function(l){this.selectedInstance=this.activeEditor=l}})})(tinymce);(function(j){var n=j.DOM,l=j.dom.Event,c=j.extend,k=j.util.Dispatcher,i=j.each,b=j.isGecko,d=j.isIE,e=j.isWebKit,g=j.is,h=j.ThemeManager,f=j.PluginManager,o=j.inArray,m=j.grep,a=j.explode;j.create("tinymce.Editor",{Editor:function(r,q){var p=this;p.id=p.editorId=r;p.execCommands={};p.queryStateCommands={};p.queryValueCommands={};p.isNotDirty=false;p.plugins={};i(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(s){p[s]=new k(p)});p.settings=q=c({id:r,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:j.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:j.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",validate:true,entity_encoding:"named",url_converter:p.convertURL,url_converter_scope:p,ie7_compat:true},q);p.documentBaseURI=new j.util.URI(q.document_base_url||j.documentBaseURL,{base_uri:tinyMCE.baseURI});p.baseURI=j.baseURI;p.contentCSS=[];p.execCallback("setup",p)},render:function(r){var u=this,v=u.settings,x=u.id,p=j.ScriptLoader;if(!l.domLoaded){l.add(document,"init",function(){u.render()});return}tinyMCE.settings=v;if(!u.getElement()){return}if(j.isIDevice){return}if(!/TEXTAREA|INPUT/i.test(u.getElement().nodeName)&&v.hidden_input&&n.getParent(x,"form")){n.insertAfter(n.create("input",{type:"hidden",name:x}),x)}if(j.WindowManager){u.windowManager=new j.WindowManager(u)}if(v.encoding=="xml"){u.onGetContent.add(function(s,t){if(t.save){t.content=n.encode(t.content)}})}if(v.add_form_submit_trigger){u.onSubmit.addToTop(function(){if(u.initialized){u.save();u.isNotDirty=1}})}if(v.add_unload_trigger){u._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(u.initialized&&!u.destroyed&&!u.isHidden()){u.save({format:"raw",no_events:true})}})}j.addUnload(u.destroy,u);if(v.submit_patch){u.onBeforeRenderUI.add(function(){var s=u.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){u.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){j.triggerSave();u.isNotDirty=1;return u.formElement._mceOldSubmit(u.formElement)}}s=null})}function q(){if(v.language&&v.language_load!==false){p.add(j.baseURL+"/langs/"+v.language+".js")}if(v.theme&&v.theme.charAt(0)!="-"&&!h.urls[v.theme]){h.load(v.theme,"themes/"+v.theme+"/editor_template"+j.suffix+".js")}i(a(v.plugins),function(s){if(s&&s.charAt(0)!="-"&&!f.urls[s]){if(s=="safari"){return}f.load(s,"plugins/"+s+"/editor_plugin"+j.suffix+".js")}});p.loadQueue(function(){if(!u.removed){u.init()}})}q()},init:function(){var r,F=this,G=F.settings,C,z,B=F.getElement(),q,p,D,x,A,E,y;j.add(F);G.aria_label=G.aria_label||n.getAttrib(B,"aria-label",F.getLang("aria.rich_text_area"));if(G.theme){G.theme=G.theme.replace(/-/,"");q=h.get(G.theme);F.theme=new q();if(F.theme.init&&G.init_theme){F.theme.init(F,h.urls[G.theme]||j.documentBaseURL.replace(/\/$/,""))}}i(a(G.plugins.replace(/\-/g,"")),function(H){var I=f.get(H),t=f.urls[H]||j.documentBaseURL.replace(/\/$/,""),s;if(I){s=new I(F,t);F.plugins[H]=s;if(s.init){s.init(F,t)}}});if(G.popup_css!==false){if(G.popup_css){G.popup_css=F.documentBaseURI.toAbsolute(G.popup_css)}else{G.popup_css=F.baseURI.toAbsolute("themes/"+G.theme+"/skins/"+G.skin+"/dialog.css")}}if(G.popup_css_add){G.popup_css+=","+F.documentBaseURI.toAbsolute(G.popup_css_add)}F.controlManager=new j.ControlManager(F);if(G.custom_undo_redo){F.onExecCommand.add(function(t,H,u,I,s){if(H!="Undo"&&H!="Redo"&&H!="mceRepaint"&&(!s||!s.skip_undo)){F.undoManager.add()}})}F.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){F.nodeChanged()}});if(b){function v(s,t){if(!t||!t.initial){F.execCommand("mceRepaint")}}F.onUndo.add(v);F.onRedo.add(v);F.onSetContent.add(v)}F.onBeforeRenderUI.dispatch(F,F.controlManager);if(G.render_ui){C=G.width||B.style.width||B.offsetWidth;z=G.height||B.style.height||B.offsetHeight;F.orgDisplay=B.style.display;E=/^[0-9\.]+(|px)$/i;if(E.test(""+C)){C=Math.max(parseInt(C)+(q.deltaWidth||0),100)}if(E.test(""+z)){z=Math.max(parseInt(z)+(q.deltaHeight||0),100)}q=F.theme.renderUI({targetNode:B,width:C,height:z,deltaWidth:G.delta_width,deltaHeight:G.delta_height});F.editorContainer=q.editorContainer}if(document.domain&&location.hostname!=document.domain){j.relaxedDomain=document.domain}n.setStyles(q.sizeContainer||q.editorContainer,{width:C,height:z});if(G.content_css){j.each(a(G.content_css),function(s){F.contentCSS.push(F.documentBaseURI.toAbsolute(s))})}z=(q.iframeHeight||z)+(typeof(z)=="number"?(q.deltaHeight||0):"");if(z<100){z=100}F.iframeHTML=G.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(G.document_base_url!=j.documentBaseURL){F.iframeHTML+='<base href="'+F.documentBaseURI.getURI()+'" />'}if(G.ie7_compat){F.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}else{F.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />'}F.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!b||!/Firefox\/2/.test(navigator.userAgent)){for(y=0;y<F.contentCSS.length;y++){F.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+F.contentCSS[y]+'" />'}F.contentCSS=[]}x=G.body_id||"tinymce";if(x.indexOf("=")!=-1){x=F.getParam("body_id","","hash");x=x[F.id]||x}A=G.body_class||"";if(A.indexOf("=")!=-1){A=F.getParam("body_class","","hash");A=A[F.id]||""}F.iframeHTML+='</head><body id="'+x+'" class="mceContentBody '+A+'"></body></html>';if(j.relaxedDomain&&(d||(j.isOpera&&parseFloat(opera.version())<11))){D='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+F.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}r=n.add(q.iframeContainer,"iframe",{role:"application",id:F.id+"_ifr",src:D||'javascript:""',frameBorder:"0",title:G.aria_label,style:{width:"100%",height:z}});F.contentAreaContainer=q.iframeContainer;n.get(q.editorContainer).style.display=F.orgDisplay;n.get(F.id).style.display="none";n.setAttrib(F.id,"aria-hidden",true);if(!j.relaxedDomain||!D){F.setupIframe()}B=r=q=null},setupIframe:function(){var u=this,x=u.settings,y=n.get(u.id),z=u.getDoc(),v,p;if(!d||!j.relaxedDomain){z.open();z.write(u.iframeHTML);z.close();if(j.relaxedDomain){z.domain=j.relaxedDomain}}if(!d){try{if(!x.readonly){z.designMode="On"}}catch(r){}}if(d){p=u.getBody();n.hide(p);if(!x.readonly){p.contentEditable=true}n.show(p)}u.schema=new j.html.Schema(x);u.dom=new j.dom.DOMUtils(u.getDoc(),{keep_values:true,url_converter:u.convertURL,url_converter_scope:u,hex_colors:x.force_hex_style_colors,class_filter:x.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:u.schema});u.parser=new j.html.DomParser(x,u.schema);u.parser.addAttributeFilter("src,href,style",function(s,t){var A=s.length,B,D=u.dom,C;while(A--){B=s[A];C=B.attr(t);if(t==="style"){B.attr("data-mce-style",D.serializeStyle(D.parseStyle(C),B.name))}else{B.attr("data-mce-"+t,u.convertURL(C,t,B.name))}}});u.parser.addNodeFilter("script",function(s,t){var A=s.length;while(A--){s[A].attr("type","mce-text/javascript")}});u.parser.addNodeFilter("#cdata",function(s,t){var A=s.length,B;while(A--){B=s[A];B.type=8;B.name="#comment";B.value="[CDATA["+B.value+"]]"}});u.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t,A){var B=t.length,C,s=u.schema.getNonEmptyElements();while(B--){C=t[B];if(C.isEmpty(s)){C.empty().append(new j.html.Node("br",1)).shortEnded=true}}});u.serializer=new j.dom.Serializer(x,u.dom,u.schema);u.selection=new j.dom.Selection(u.dom,u.getWin(),u.serializer);u.formatter=new j.Formatter(this);u.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});i("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(s){u.formatter.register(s,{block:s,remove:"all"})});u.formatter.register(u.settings.formats);u.undoManager=new j.UndoManager(u);u.undoManager.onAdd.add(function(t,s){if(!s.initial){return u.onChange.dispatch(u,s,t)}});u.undoManager.onUndo.add(function(t,s){return u.onUndo.dispatch(u,s,t)});u.undoManager.onRedo.add(function(t,s){return u.onRedo.dispatch(u,s,t)});u.forceBlocks=new j.ForceBlocks(u,{forced_root_block:x.forced_root_block});u.editorCommands=new j.EditorCommands(u);u.serializer.onPreProcess.add(function(s,t){return u.onPreProcess.dispatch(u,t,s)});u.serializer.onPostProcess.add(function(s,t){return u.onPostProcess.dispatch(u,t,s)});u.onPreInit.dispatch(u);if(!x.gecko_spellcheck){u.getBody().spellcheck=0}if(!x.readonly){u._addEvents()}u.controlManager.onPostRender.dispatch(u,u.controlManager);u.onPostRender.dispatch(u);if(x.directionality){u.getBody().dir=x.directionality}if(x.nowrap){u.getBody().style.whiteSpace="nowrap"}if(x.handle_node_change_callback){u.onNodeChange.add(function(t,s,A){u.execCallback("handle_node_change_callback",u.id,A,-1,-1,true,u.selection.isCollapsed())})}if(x.save_callback){u.onSaveContent.add(function(s,A){var t=u.execCallback("save_callback",u.id,A.content,u.getBody());if(t){A.content=t}})}if(x.onchange_callback){u.onChange.add(function(t,s){u.execCallback("onchange_callback",u,s)})}if(x.protect){u.onBeforeSetContent.add(function(s,t){if(x.protect){i(x.protect,function(A){t.content=t.content.replace(A,function(B){return"<!--mce:protected "+escape(B)+"-->"})})}})}if(x.convert_newlines_to_brs){u.onBeforeSetContent.add(function(s,t){if(t.initial){t.content=t.content.replace(/\r?\n/g,"<br />")}})}if(x.preformatted){u.onPostProcess.add(function(s,t){t.content=t.content.replace(/^\s*<pre.*?>/,"");t.content=t.content.replace(/<\/pre>\s*$/,"");if(t.set){t.content='<pre class="mceItemHidden">'+t.content+"</pre>"}})}if(x.verify_css_classes){u.serializer.attribValueFilter=function(C,A){var B,t;if(C=="class"){if(!u.classesRE){t=u.dom.getClasses();if(t.length>0){B="";i(t,function(s){B+=(B?"|":"")+s["class"]});u.classesRE=new RegExp("("+B+")","gi")}}return !u.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(A)||u.classesRE.test(A)?A:""}return A}}if(x.cleanup_callback){u.onBeforeSetContent.add(function(s,t){t.content=u.execCallback("cleanup_callback","insert_to_editor",t.content,t)});u.onPreProcess.add(function(s,t){if(t.set){u.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t)}if(t.get){u.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}});u.onPostProcess.add(function(s,t){if(t.set){t.content=u.execCallback("cleanup_callback","insert_to_editor",t.content,t)}if(t.get){t.content=u.execCallback("cleanup_callback","get_from_editor",t.content,t)}})}if(x.save_callback){u.onGetContent.add(function(s,t){if(t.save){t.content=u.execCallback("save_callback",u.id,t.content,u.getBody())}})}if(x.handle_event_callback){u.onEvent.add(function(s,t,A){if(u.execCallback("handle_event_callback",t,s,A)===false){l.cancel(t)}})}u.onSetContent.add(function(){u.addVisual(u.getBody())});if(x.padd_empty_editor){u.onPostProcess.add(function(s,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}if(b){function q(s,t){i(s.dom.select("a"),function(B){var A=B.parentNode;if(s.dom.isBlock(A)&&A.lastChild===B){s.dom.add(A,"br",{"data-mce-bogus":1})}})}u.onExecCommand.add(function(s,t){if(t==="CreateLink"){q(s)}});u.onSetContent.add(u.selection.onSetContent.add(q));if(!x.readonly){try{z.designMode="Off";z.designMode="On"}catch(r){}}}setTimeout(function(){if(u.removed){return}u.load({initial:true,format:"html"});u.startContent=u.getContent({format:"raw"});u.undoManager.add();u.initialized=true;u.onInit.dispatch(u);u.execCallback("setupcontent_callback",u.id,u.getBody(),u.getDoc());u.execCallback("init_instance_callback",u);u.focus(true);u.nodeChanged({initial:1});i(u.contentCSS,function(s){u.dom.loadCSS(s)});if(x.auto_focus){setTimeout(function(){var s=j.get(x.auto_focus);s.selection.select(s.getBody(),1);s.selection.collapse(1);s.getWin().focus()},100)}},1);y=null},focus:function(s){var x,q=this,v=q.settings.content_editable,r,p,u=q.getDoc();if(!s){r=q.selection.getRng();if(r.item){p=r.item(0)}if(!v){q.getWin().focus()}if(p&&p.ownerDocument==u){r=u.body.createControlRange();r.addElement(p);r.select()}}if(j.activeEditor!=q){if((x=j.activeEditor)!=null){x.onDeactivate.dispatch(x,q)}q.onActivate.dispatch(q,x)}j._setActive(q)},execCallback:function(u){var p=this,r=p.settings[u],q;if(!r){return}if(p.callbackLookup&&(q=p.callbackLookup[u])){r=q.func;q=q.scope}if(g(r,"string")){q=r.replace(/\.\w+$/,"");q=q?j.resolve(q):0;r=j.resolve(r);p.callbackLookup=p.callbackLookup||{};p.callbackLookup[u]={func:r,scope:q}}return r.apply(q||p,Array.prototype.slice.call(arguments,1))},translate:function(p){var r=this.settings.language||"en",q=j.i18n;if(!p){return""}return q[r+"."+p]||p.replace(/{\#([^}]+)\}/g,function(t,s){return q[r+"."+s]||"{#"+s+"}"})},getLang:function(q,p){return j.i18n[(this.settings.language||"en")+"."+q]||(g(p)?p:"{#"+q+"}")},getParam:function(u,r,p){var s=j.trim,q=g(this.settings[u])?this.settings[u]:r,t;if(p==="hash"){t={};if(g(q,"string")){i(q.indexOf("=")>0?q.split(/[;,](?![^=;,]*(?:[;,]|$))/):q.split(","),function(x){x=x.split("=");if(x.length>1){t[s(x[0])]=s(x[1])}else{t[s(x[0])]=s(x)}})}else{t=q}return t}return q},nodeChanged:function(r){var p=this,q=p.selection,u=(d?q.getNode():q.getStart())||p.getBody();if(p.initialized){r=r||{};u=d&&u.ownerDocument!=p.getDoc()?p.getBody():u;r.parents=[];p.dom.getParent(u,function(s){if(s.nodeName=="BODY"){return true}r.parents.push(s)});p.onNodeChange.dispatch(p,r?r.controlManager||p.controlManager:p.controlManager,u,q.isCollapsed(),r)}},addButton:function(r,q){var p=this;p.buttons=p.buttons||{};p.buttons[r]=q},addCommand:function(p,r,q){this.execCommands[p]={func:r,scope:q||this}},addQueryStateHandler:function(p,r,q){this.queryStateCommands[p]={func:r,scope:q||this}},addQueryValueHandler:function(p,r,q){this.queryValueCommands[p]={func:r,scope:q||this}},addShortcut:function(r,u,p,s){var q=this,v;if(!q.settings.custom_shortcuts){return false}q.shortcuts=q.shortcuts||{};if(g(p,"string")){v=p;p=function(){q.execCommand(v,false,null)}}if(g(p,"object")){v=p;p=function(){q.execCommand(v[0],v[1],v[2])}}i(a(r),function(t){var x={func:p,scope:s||this,desc:u,alt:false,ctrl:false,shift:false};i(a(t,"+"),function(y){switch(y){case"alt":case"ctrl":case"shift":x[y]=true;break;default:x.charCode=y.charCodeAt(0);x.keyCode=y.toUpperCase().charCodeAt(0)}});q.shortcuts[(x.ctrl?"ctrl":"")+","+(x.alt?"alt":"")+","+(x.shift?"shift":"")+","+x.keyCode]=x});return true},execCommand:function(x,v,z,p){var r=this,u=0,y,q;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(x)&&(!p||!p.skip_focus)){r.focus()}y={};r.onBeforeExecCommand.dispatch(r,x,v,z,y);if(y.terminate){return false}if(r.execCallback("execcommand_callback",r.id,r.selection.getNode(),x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(y=r.execCommands[x]){q=y.func.call(y.scope,v,z);if(q!==true){r.onExecCommand.dispatch(r,x,v,z,p);return q}}i(r.plugins,function(s){if(s.execCommand&&s.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);u=1;return false}});if(u){return true}if(r.theme&&r.theme.execCommand&&r.theme.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(r.editorCommands.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}r.getDoc().execCommand(x,v,z);r.onExecCommand.dispatch(r,x,v,z,p)},queryCommandState:function(u){var q=this,v,r;if(q._isHidden()){return}if(v=q.queryStateCommands[u]){r=v.func.call(v.scope);if(r!==true){return r}}v=q.editorCommands.queryCommandState(u);if(v!==-1){return v}try{return this.getDoc().queryCommandState(u)}catch(p){}},queryCommandValue:function(v){var q=this,u,r;if(q._isHidden()){return}if(u=q.queryValueCommands[v]){r=u.func.call(u.scope);if(r!==true){return r}}u=q.editorCommands.queryCommandValue(v);if(g(u)){return u}try{return this.getDoc().queryCommandValue(v)}catch(p){}},show:function(){var p=this;n.show(p.getContainer());n.hide(p.id);p.load()},hide:function(){var p=this,q=p.getDoc();if(d&&q){q.execCommand("SelectAll")}p.save();n.hide(p.getContainer());n.setStyle(p.id,"display",p.orgDisplay)},isHidden:function(){return !n.isHidden(this.id)},setProgressState:function(p,q,r){this.onSetProgressState.dispatch(this,p,q,r);return p},load:function(s){var p=this,r=p.getElement(),q;if(r){s=s||{};s.load=true;q=p.setContent(g(r.value)?r.value:r.innerHTML,s);s.element=r;if(!s.no_events){p.onLoadContent.dispatch(p,s)}s.element=r=null;return q}},save:function(u){var p=this,s=p.getElement(),q,r;if(!s||!p.initialized){return}u=u||{};u.save=true;if(!u.no_events){p.undoManager.typing=false;p.undoManager.add()}u.element=s;q=u.content=p.getContent(u);if(!u.no_events){p.onSaveContent.dispatch(p,u)}q=u.content;if(!/TEXTAREA|INPUT/i.test(s.nodeName)){s.innerHTML=q;if(r=n.getParent(p.id,"form")){i(r.elements,function(t){if(t.name==p.id){t.value=q;return false}})}}else{s.value=q}u.element=s=null;return q},setContent:function(t,r){var q=this,s,p=q.getBody();r=r||{};r.format=r.format||"html";r.set=true;r.content=t;if(!r.no_events){q.onBeforeSetContent.dispatch(q,r)}if(!j.isIE&&(t.length===0||/^\s+$/.test(t))){p.innerHTML='<br data-mce-bogus="1" />';return}if(r.format!=="raw"){r.content=new j.html.Serializer({},q.schema).serialize(q.parser.parse(r.content))}p.innerHTML=j.trim(r.content);if(!r.no_events){q.onSetContent.dispatch(q,r)}return r.content},getContent:function(q){var p=this,r;q=q||{};q.format=q.format||"html";q.get=true;if(!q.no_events){p.onBeforeGetContent.dispatch(p,q)}if(q.format=="raw"){r=p.getBody().innerHTML}else{r=p.serializer.serialize(p.getBody(),q)}q.content=j.trim(r);if(!q.no_events){p.onGetContent.dispatch(p,q)}return q.content},isDirty:function(){var p=this;return j.trim(p.startContent)!=j.trim(p.getContent({format:"raw",no_events:1}))&&!p.isNotDirty},getContainer:function(){var p=this;if(!p.container){p.container=n.get(p.editorContainer||p.id+"_parent")}return p.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return n.get(this.settings.content_element||this.id)},getWin:function(){var p=this,q;if(!p.contentWindow){q=n.get(p.id+"_ifr");if(q){p.contentWindow=q.contentWindow}}return p.contentWindow},getDoc:function(){var q=this,p;if(!q.contentDocument){p=q.getWin();if(p){q.contentDocument=p.document}}return q.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(p,x,v){var q=this,r=q.settings;if(r.urlconverter_callback){return q.execCallback("urlconverter_callback",p,v,true,x)}if(!r.convert_urls||(v&&v.nodeName=="LINK")||p.indexOf("file:")===0){return p}if(r.relative_urls){return q.documentBaseURI.toRelative(p)}p=q.documentBaseURI.toAbsolute(p,r.remove_script_host);return p},addVisual:function(r){var p=this,q=p.settings;r=r||p.getBody();if(!g(p.hasVisual)){p.hasVisual=q.visual}i(p.dom.select("table,a",r),function(t){var s;switch(t.nodeName){case"TABLE":s=p.dom.getAttrib(t,"border");if(!s||s=="0"){if(p.hasVisual){p.dom.addClass(t,q.visual_table_class)}else{p.dom.removeClass(t,q.visual_table_class)}}return;case"A":s=p.dom.getAttrib(t,"name");if(s){if(p.hasVisual){p.dom.addClass(t,"mceItemAnchor")}else{p.dom.removeClass(t,"mceItemAnchor")}}return}});p.onVisualAid.dispatch(p,r,p.hasVisual)},remove:function(){var p=this,q=p.getContainer();p.removed=1;p.hide();p.execCallback("remove_instance_callback",p);p.onRemove.dispatch(p);p.onExecCommand.listeners=[];j.remove(p);n.remove(q)},destroy:function(q){var p=this;if(p.destroyed){return}if(!q){j.removeUnload(p.destroy);tinyMCE.onBeforeUnload.remove(p._beforeUnload);if(p.theme&&p.theme.destroy){p.theme.destroy()}p.controlManager.destroy();p.selection.destroy();p.dom.destroy();if(!p.settings.content_editable){l.clear(p.getWin());l.clear(p.getDoc())}l.clear(p.getBody());l.clear(p.formElement)}if(p.formElement){p.formElement.submit=p.formElement._mceOldSubmit;p.formElement._mceOldSubmit=null}p.contentAreaContainer=p.formElement=p.container=p.settings.content_element=p.bodyElement=p.contentDocument=p.contentWindow=null;if(p.selection){p.selection=p.selection.win=p.selection.dom=p.selection.dom.doc=null}p.destroyed=1},_addEvents:function(){var A=this,r,C=A.settings,q=A.dom,v={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function p(t,D){var s=t.type;if(A.removed){return}if(A.onEvent.dispatch(A,t,D)!==false){A[v[t.fakeType||t.type]].dispatch(A,t,D)}}i(v,function(t,s){switch(s){case"contextmenu":q.bind(A.getDoc(),s,p);break;case"paste":q.bind(A.getBody(),s,function(D){p(D)});break;case"submit":case"reset":q.bind(A.getElement().form||n.getParent(A.id,"form"),s,p);break;default:q.bind(C.content_editable?A.getBody():A.getDoc(),s,p)}});q.bind(C.content_editable?A.getBody():(b?A.getDoc():A.getWin()),"focus",function(s){A.focus(true)});if(j.isGecko){q.bind(A.getDoc(),"DOMNodeInserted",function(t){var s;t=t.target;if(t.nodeType===1&&t.nodeName==="IMG"&&(s=t.getAttribute("data-mce-src"))){t.src=A.documentBaseURI.toAbsolute(s)}})}if(b){function u(){var E=this,G=E.getDoc(),F=E.settings;if(b&&!F.readonly){if(E._isHidden()){try{if(!F.content_editable){G.designMode="On"}}catch(D){}}try{G.execCommand("styleWithCSS",0,false)}catch(D){if(!E._isHidden()){try{G.execCommand("useCSS",0,true)}catch(D){}}}if(!F.table_inline_editing){try{G.execCommand("enableInlineTableEditing",false,false)}catch(D){}}if(!F.object_resizing){try{G.execCommand("enableObjectResizing",false,false)}catch(D){}}}}A.onBeforeExecCommand.add(u);A.onMouseDown.add(u)}if(j.isWebKit){A.onClick.add(function(s,t){t=t.target;if(t.nodeName=="IMG"||(t.nodeName=="A"&&q.hasClass(t,"mceItemAnchor"))){A.selection.getSel().setBaseAndExtent(t,0,t,1);A.nodeChanged()}})}A.onMouseUp.add(A.nodeChanged);A.onKeyUp.add(function(s,t){var D=t.keyCode;if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45||D==46||D==8||(j.isMac&&(D==91||D==93))||t.ctrlKey){A.nodeChanged()}});A.onReset.add(function(){A.setContent(A.startContent,{format:"raw"})});if(C.custom_shortcuts){if(C.custom_undo_redo_keyboard_shortcuts){A.addShortcut("ctrl+z",A.getLang("undo_desc"),"Undo");A.addShortcut("ctrl+y",A.getLang("redo_desc"),"Redo")}A.addShortcut("ctrl+b",A.getLang("bold_desc"),"Bold");A.addShortcut("ctrl+i",A.getLang("italic_desc"),"Italic");A.addShortcut("ctrl+u",A.getLang("underline_desc"),"Underline");for(r=1;r<=6;r++){A.addShortcut("ctrl+"+r,"",["FormatBlock",false,"h"+r])}A.addShortcut("ctrl+7","",["FormatBlock",false,"<p>"]);A.addShortcut("ctrl+8","",["FormatBlock",false,"<div>"]);A.addShortcut("ctrl+9","",["FormatBlock",false,"<address>"]);function x(t){var s=null;if(!t.altKey&&!t.ctrlKey&&!t.metaKey){return s}i(A.shortcuts,function(D){if(j.isMac&&D.ctrl!=t.metaKey){return}else{if(!j.isMac&&D.ctrl!=t.ctrlKey){return}}if(D.alt!=t.altKey){return}if(D.shift!=t.shiftKey){return}if(t.keyCode==D.keyCode||(t.charCode&&t.charCode==D.charCode)){s=D;return false}});return s}A.onKeyUp.add(function(s,t){var D=x(t);if(D){return l.cancel(t)}});A.onKeyPress.add(function(s,t){var D=x(t);if(D){return l.cancel(t)}});A.onKeyDown.add(function(s,t){var D=x(t);if(D){D.func.call(D.scope);return l.cancel(t)}})}if(j.isIE){q.bind(A.getDoc(),"controlselect",function(D){var t=A.resizeInfo,s;D=D.target;if(D.nodeName!=="IMG"){return}if(t){q.unbind(t.node,t.ev,t.cb)}if(!q.hasClass(D,"mceItemNoResize")){ev="resizeend";s=q.bind(D,ev,function(F){var E;F=F.target;if(E=q.getStyle(F,"width")){q.setAttrib(F,"width",E.replace(/[^0-9%]+/g,""));q.setStyle(F,"width","")}if(E=q.getStyle(F,"height")){q.setAttrib(F,"height",E.replace(/[^0-9%]+/g,""));q.setStyle(F,"height","")}})}else{ev="resizestart";s=q.bind(D,"resizestart",l.cancel,l)}t=A.resizeInfo={node:D,ev:ev,cb:s}});A.onKeyDown.add(function(s,D){var t;switch(D.keyCode){case 8:t=A.getDoc().selection;if(t.createRange&&t.createRange().item){s.dom.remove(t.createRange().item(0));return l.cancel(D)}}})}if(j.isOpera){A.onClick.add(function(s,t){l.prevent(t)})}if(C.custom_undo_redo){function B(){A.undoManager.typing=false;A.undoManager.add()}q.bind(A.getDoc(),"focusout",function(s){if(!A.removed&&A.undoManager.typing){B()}});A.onKeyUp.add(function(D,F){var s,t,E;if(d&&F.keyCode==8){s=A.selection.getRng();if(s.parentElement){t=s.parentElement();E=A.selection.getBookmark();t.innerHTML=t.innerHTML;A.selection.moveToBookmark(E)}}if((F.keyCode>=33&&F.keyCode<=36)||(F.keyCode>=37&&F.keyCode<=40)||F.keyCode==13||F.keyCode==45||F.ctrlKey){B()}});A.onKeyDown.add(function(D,G){var s,t,F;if(d&&G.keyCode==46){s=A.selection.getRng();if(s.parentElement){t=s.parentElement();if(G.ctrlKey){s.moveEnd("word",1);s.select()}A.selection.getSel().clear();if(s.parentElement()==t){F=A.selection.getBookmark();try{t.innerHTML=t.innerHTML}catch(E){}A.selection.moveToBookmark(F)}G.preventDefault();return}}if((G.keyCode>=33&&G.keyCode<=36)||(G.keyCode>=37&&G.keyCode<=40)||G.keyCode==13||G.keyCode==45){if(A.undoManager.typing){B()}return}if(!A.undoManager.typing){A.undoManager.add();A.undoManager.typing=true}});A.onMouseDown.add(function(){if(A.undoManager.typing){B()}})}if(j.isGecko){function y(){A.undoManager.typing=false;A.undoManager.add();var s=A.dom.getAttribs(A.selection.getStart().cloneNode(false));return function(){var t=A.selection.getStart();A.dom.removeAllAttribs(t);i(s,function(D){t.setAttributeNode(D.cloneNode(true))});A.undoManager.typing=false;A.undoManager.add()}}function z(){var t=A.selection;return !t.isCollapsed()&&t.getStart()!=t.getEnd()}A.onKeyPress.add(function(s,D){if((D.keyCode==8||D.keyCode==46)&&z()){var t=y();A.getDoc().execCommand("delete",false,null);t();return l.cancel(D)}});A.dom.bind(A.getDoc(),"cut",function(t){if(z()){var s=y();A.onKeyUp.addToTop(l.cancel,l);setTimeout(function(){s();A.onKeyUp.remove(l.cancel,l)},0)}})}},_isHidden:function(){var p;if(!b){return 0}p=this.selection.getSel();return(!p||!p.rangeCount||p.rangeCount==0)}})})(tinymce);(function(a){var d=a.each,e,b=true,c=false;a.EditorCommands=function(f){var i=f.dom,t=f.selection,k={state:{},exec:{},value:{}},g=f.settings,m;function q(y,x,v){var u;y=y.toLowerCase();if(u=k.exec[y]){u(y,x,v);return b}return c}function h(v){var u;v=v.toLowerCase();if(u=k.state[v]){return u(v)}return -1}function l(v){var u;v=v.toLowerCase();if(u=k.value[v]){return u(v)}return c}function p(u,v){v=v||"exec";d(u,function(x,y){d(y.toLowerCase().split(","),function(z){k[v][z]=x})})}a.extend(this,{execCommand:q,queryCommandState:h,queryCommandValue:l,addCommands:p});function o(x,v,u){if(v===e){v=c}if(u===e){u=null}return f.getDoc().execCommand(x,v,u)}function s(u){return f.formatter.match(u)}function r(u,v){f.formatter.toggle(u,v?{value:v}:e)}function j(u){m=t.getBookmark(u)}function n(){t.moveToBookmark(m)}p({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(y){var x=f.getDoc(),v;try{o(y)}catch(u){v=b}if(v||!x.queryCommandSupported(y)){if(a.isGecko){f.windowManager.confirm(f.getLang("clipboard_msg"),function(z){if(z){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{f.windowManager.alert(f.getLang("clipboard_no_support"))}}},unlink:function(u){if(t.isCollapsed()){t.select(t.getNode())}o(u);t.collapse(c)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(u){var v=u.substring(7);d("left,center,right,full".split(","),function(x){if(v!=x){f.formatter.remove("align"+x)}});r("align"+v);q("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(x){var u,v;o(x);u=i.getParent(t.getNode(),"ol,ul");if(u){v=u.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(v.nodeName)){j();i.split(v,u);n()}}},"Bold,Italic,Underline,Strikethrough":function(u){r(u)},"ForeColor,HiliteColor,FontName":function(x,v,u){r(x,u)},FontSize:function(z,x,v){var u,y;if(v>=1&&v<=7){y=a.explode(g.font_size_style_values);u=a.explode(g.font_size_classes);if(u){v=u[v-1]||v}else{v=y[v-1]||v}}r(z,v)},RemoveFormat:function(u){f.formatter.remove(u)},mceBlockQuote:function(u){r("blockquote")},FormatBlock:function(x,v,u){return r(u||"p")},mceCleanup:function(){var u=t.getBookmark();f.setContent(f.getContent({cleanup:b}),{cleanup:b});t.moveToBookmark(u)},mceRemoveNode:function(y,x,v){var u=v||t.getNode();if(u!=f.getBody()){j();f.dom.remove(u,b);n()}},mceSelectNodeDepth:function(y,x,v){var u=0;i.getParent(t.getNode(),function(z){if(z.nodeType==1&&u++==v){t.select(z);return c}},f.getBody())},mceSelectNode:function(x,v,u){t.select(u)},mceInsertContent:function(y,D,E){var v,u,B,G,x,u,z,F,C;function A(I,H){var J,K=new a.dom.TreeWalker(I,H);while((J=K.current())){if((J.nodeType==3&&a.trim(J.nodeValue).length)||J.nodeName=="BR"||J.nodeName=="IMG"){return J}K.prev()}}C={content:E,format:"html"};t.onBeforeSetContent.dispatch(t,C);E=C.content;if(E.indexOf("{$caret}")==-1){E+="{$caret}"}t.setContent('<span id="__mce">\uFEFF</span>',{no_events:false});i.setOuterHTML("__mce",E.replace(/\{\$caret\}/,'<span data-mce-type="bookmark" id="__mce">\uFEFF</span>'));v=i.select("#__mce")[0];B=i.getRoot();if(v.previousSibling&&i.isBlock(v.previousSibling)||v.parentNode==B){x=A(v.previousSibling,B);if(x){if(x.nodeName=="BR"){x.parentNode.insertBefore(v,x)}else{i.insertAfter(v,x)}}}while(v){if(v===B){i.setOuterHTML(G,new a.html.Serializer({},f.schema).serialize(new a.html.DomParser({remove_trailing_brs:true},f.schema).parse(i.getOuterHTML(G))));break}G=v;v=v.parentNode}v=i.select("#__mce")[0];if(v){x=A(v.previousSibling,B);i.remove(v);if(x){u=i.createRng();if(x.nodeType==3){u.setStart(x,x.length);u.setEnd(x,x.length)}else{if(x.nodeName=="BR"){u.setStartBefore(x);u.setEndBefore(x)}else{u.setStartAfter(x);u.setEndAfter(x)}}t.setRng(u);if(!a.isIE){x=i.create("span",null,"\u00a0");u.insertNode(x);z=i.getRect(x);F=i.getViewPort(f.getWin());if((z.y>F.y+F.h||z.y<F.y)||(z.x>F.x+F.w||z.x<F.x)){f.getBody().scrollLeft=z.x;f.getBody().scrollTop=z.y}i.remove(x)}}}t.onSetContent.dispatch(t,C);f.addVisual()},mceInsertRawHTML:function(x,v,u){t.setContent("tiny_mce_marker");f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return u}))},mceSetContent:function(x,v,u){f.setContent(u)},"Indent,Outdent":function(y){var v,u,x;v=g.indentation;u=/[a-z%]+$/i.exec(v);v=parseInt(v);if(!h("InsertUnorderedList")&&!h("InsertOrderedList")){d(t.getSelectedBlocks(),function(z){if(y=="outdent"){x=Math.max(0,parseInt(z.style.paddingLeft||0)-v);i.setStyle(z,"paddingLeft",x?x+u:"")}else{i.setStyle(z,"paddingLeft",(parseInt(z.style.paddingLeft||0)+v)+u)}})}else{o(y)}},mceRepaint:function(){var v;if(a.isGecko){try{j(b);if(t.getSel()){t.getSel().selectAllChildren(f.getBody())}t.collapse(b);n()}catch(u){}}},mceToggleFormat:function(x,v,u){f.formatter.toggle(u)},InsertHorizontalRule:function(){t.setContent("<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual;f.addVisual()},mceReplaceContent:function(x,v,u){f.execCommand("mceInsertContent",false,t.setContent(u.replace(/\{\$selection\}/g,t.getContent({format:"text"}))))},mceInsertLink:function(A,z,y){var x=i.getParent(t.getNode(),"a"),v,u;if(a.is(y,"string")){y={href:y}}y.href=y.href.replace(" ","%20");if(!x){if(a.isWebKit){v=i.getParent(t.getNode(),"img");if(v){u=v.style.cssFloat;v.style.cssFloat=null}}o("CreateLink",c,"javascript:mctmp(0);");if(u){v.style.cssFloat=u}d(i.select("a[href='javascript:mctmp(0);']"),function(B){i.setAttribs(B,y)})}else{if(y.href){i.setAttribs(x,y)}else{f.dom.remove(x,b)}}},selectAll:function(){var v=i.getRoot(),u=i.createRng();u.setStart(v,0);u.setEnd(v,v.childNodes.length);f.selection.setRng(u)}});p({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(u){return s("align"+u.substring(7))},"Bold,Italic,Underline,Strikethrough":function(u){return s(u)},mceBlockQuote:function(){return s("blockquote")},Outdent:function(){var u;if(g.inline_styles){if((u=i.getParent(t.getStart(),i.isBlock))&&parseInt(u.style.paddingLeft)>0){return b}if((u=i.getParent(t.getEnd(),i.isBlock))&&parseInt(u.style.paddingLeft)>0){return b}}return h("InsertUnorderedList")||h("InsertOrderedList")||(!g.inline_styles&&!!i.getParent(t.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(u){return i.getParent(t.getNode(),u=="insertunorderedlist"?"UL":"OL")}},"state");p({"FontSize,FontName":function(x){var v=0,u;if(u=i.getParent(t.getNode(),"span")){if(x=="fontsize"){v=u.style.fontSize}else{v=u.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return v}},"value");if(g.custom_undo_redo){p({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(d){var c,e=0,g=[];function f(){return b.trim(d.getContent({format:"raw",no_events:1}))}return c={typing:false,onAdd:new a(c),onUndo:new a(c),onRedo:new a(c),add:function(l){var h,j=d.settings,k;l=l||{};l.content=f();k=g[e];if(k&&k.content==l.content){if(e>0||g.length==1){return null}}if(j.custom_undo_redo_levels){if(g.length>j.custom_undo_redo_levels){for(h=0;h<g.length-1;h++){g[h]=g[h+1]}g.length--;e=g.length}}l.bookmark=d.selection.getBookmark(2,true);if(e<g.length-1){g.length=e+1}g.push(l);e=g.length-1;c.onAdd.dispatch(c,l);d.isNotDirty=0;return l},undo:function(){var j,h;if(c.typing){c.add();c.typing=false}if(e>0){j=g[--e];d.setContent(j.content,{format:"raw"});d.selection.moveToBookmark(j.bookmark);c.onUndo.dispatch(c,j)}return j},redo:function(){var h;if(e<g.length-1){h=g[++e];d.setContent(h.content,{format:"raw"});d.selection.moveToBookmark(h.bookmark);c.onRedo.dispatch(c,h)}return h},clear:function(){g=[];e=0;c.typing=false},hasUndo:function(){return e>0||c.typing},hasRedo:function(){return e<g.length-1}}}})(tinymce);(function(l){var m=l.dom.Event,d=l.isIE,a=l.isGecko,c=l.isOpera,j=l.each,b=l.extend,e=true,i=false;function k(p){var q,o,n;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(p.nodeName)){if(q){o=p.cloneNode(false);o.appendChild(q);q=o}else{q=n=p.cloneNode(false)}q.removeAttribute("id")}}while(p=p.parentNode);if(q){return{wrapper:q,inner:n}}}function h(o,p){var n=p.ownerDocument.createRange();n.setStart(o.endContainer,o.endOffset);n.setEndAfter(p);return n.cloneContents().textContent.length==0}function g(o){o=o.innerHTML;o=o.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-");o=o.replace(/<[^>]+>/g,"");return o.replace(/[ \u00a0\t\r\n]+/g,"")==""}function f(o,r,n){var p,q;if(g(n)){p=r.getParent(n,"ul,ol");if(!r.getParent(p.parentNode,"ul,ol")){r.split(p,n);q=r.create("p",0,'<br data-mce-bogus="1" />');r.replace(q,n);o.select(q,1)}return i}return e}l.create("tinymce.ForceBlocks",{ForceBlocks:function(n){var o=this,p=n.settings,q;o.editor=n;o.dom=n.dom;q=(p.forced_root_block||"p").toLowerCase();p.element=q.toUpperCase();n.onPreInit.add(o.setup,o);if(p.forced_root_block){n.onInit.add(o.forceRoots,o);n.onSetContent.add(o.forceRoots,o);n.onBeforeGetContent.add(o.forceRoots,o);n.onExecCommand.add(function(r,s){if(s=="mceInsertContent"){o.forceRoots();r.nodeChanged()}})}},setup:function(){var p=this,o=p.editor,q=o.settings,u=o.dom,n=o.selection;if(q.forced_root_block){o.onBeforeExecCommand.add(p.forceRoots,p);o.onKeyUp.add(p.forceRoots,p);o.onPreProcess.add(p.forceRoots,p)}if(q.force_br_newlines){if(d){o.onKeyPress.add(function(s,t){var v;if(t.keyCode==13&&n.getNode().nodeName!="LI"){n.setContent('<br id="__" /> ',{format:"raw"});v=u.get("__");v.removeAttribute("id");n.select(v);n.collapse();return m.cancel(t)}})}}if(q.force_p_newlines){if(!d){o.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!p.insertPara(t)){m.cancel(t)}})}else{l.addUnload(function(){p._previousFormats=0});o.onKeyPress.add(function(s,t){p._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&q.keep_styles){p._previousFormats=k(s.selection.getStart())}});o.onKeyUp.add(function(v,x){if(x.keyCode==13&&!x.shiftKey){var t=v.selection.getStart(),s=p._previousFormats;if(!t.hasChildNodes()&&s){t=u.getParent(t,u.isBlock);if(t&&t.nodeName!="LI"){t.innerHTML="";if(p._previousFormats){t.appendChild(s.wrapper);s.inner.innerHTML="\uFEFF"}else{t.innerHTML="\uFEFF"}n.select(t,1);v.getDoc().execCommand("Delete",false,null);p._previousFormats=0}}}})}if(a){o.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){p.backspaceDelete(t,t.keyCode==8)}})}}if(l.isWebKit){function r(v){var t=n.getRng(),x,z=u.create("div",null," "),y,s=u.getViewPort(v.getWin()).h;t.insertNode(x=u.create("br"));t.setStartAfter(x);t.setEndAfter(x);n.setRng(t);if(n.getSel().focusNode==x.previousSibling){n.select(u.insertAfter(u.doc.createTextNode("\u00a0"),x));n.collapse(e)}u.insertAfter(z,x);y=u.getPos(z).y;u.remove(z);if(y>s){v.getWin().scrollTo(0,y)}}o.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(q.force_br_newlines&&!u.getParent(n.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul")))){r(s);m.cancel(t)}})}if(d){if(q.element!="P"){o.onKeyPress.add(function(s,t){p.lastElm=n.getNode().nodeName});o.onKeyUp.add(function(t,v){var y,x=n.getNode(),s=t.getBody();if(s.childNodes.length===1&&x.nodeName=="P"){x=u.rename(x,q.element);n.select(x);n.collapse();t.nodeChanged()}else{if(v.keyCode==13&&!v.shiftKey&&p.lastElm!="P"){y=u.getParent(x,"p");if(y){u.rename(y,q.element);t.nodeChanged()}}}})}}},find:function(v,q,r){var p=this.editor,o=p.getDoc().createTreeWalker(v,4,null,i),u=-1;while(v=o.nextNode()){u++;if(q==0&&v==r){return u}if(q==1&&u==r){return v}}return -1},forceRoots:function(x,I){var z=this,x=z.editor,N=x.getBody(),J=x.getDoc(),P=x.selection,A=P.getSel(),B=P.getRng(),M=-2,v,G,o,q,L=-16777215;var K,p,O,F,C,u=N.childNodes,E,D,y;for(E=u.length-1;E>=0;E--){K=u[E];if(K.nodeType===1&&K.getAttribute("data-mce-type")){p=null;continue}if(K.nodeType===3||(!z.dom.isBlock(K)&&K.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(K.nodeName))){if(!p){if(K.nodeType!=3||/[^\s]/g.test(K.nodeValue)){if(M==-2&&B){if(!d||B.setStart){if(B.startContainer.nodeType==1&&(D=B.startContainer.childNodes[B.startOffset])&&D.nodeType==1){y=D.getAttribute("id");D.setAttribute("id","__mce")}else{if(x.dom.getParent(B.startContainer,function(n){return n===N})){G=B.startOffset;o=B.endOffset;M=z.find(N,0,B.startContainer);v=z.find(N,0,B.endContainer)}}}else{if(B.item){q=J.body.createTextRange();q.moveToElementText(B.item(0));B=q}q=J.body.createTextRange();q.moveToElementText(N);q.collapse(1);O=q.move("character",L)*-1;q=B.duplicate();q.collapse(1);F=q.move("character",L)*-1;q=B.duplicate();q.collapse(0);C=(q.move("character",L)*-1)-F;M=F-O;v=C}}p=x.dom.create(x.settings.forced_root_block);K.parentNode.replaceChild(p,K);p.appendChild(K)}}else{if(p.hasChildNodes()){p.insertBefore(K,p.firstChild)}else{p.appendChild(K)}}}else{p=null}}if(M!=-2){if(!d||B.setStart){p=N.getElementsByTagName(x.settings.element)[0];B=J.createRange();if(M!=-1){B.setStart(z.find(N,1,M),G)}else{B.setStart(p,0)}if(v!=-1){B.setEnd(z.find(N,1,v),o)}else{B.setEnd(p,0)}if(A){A.removeAllRanges();A.addRange(B)}}else{try{B=A.createRange();B.moveToElementText(N);B.collapse(1);B.moveStart("character",M);B.moveEnd("character",v);B.select()}catch(H){}}}else{if((!d||B.setStart)&&(D=x.dom.get("__mce"))){if(y){D.setAttribute("id",y)}else{D.removeAttribute("id")}B=J.createRange();B.setStartBefore(D);B.setEndBefore(D);P.setRng(B)}}},getParentBlock:function(p){var o=this.dom;return o.getParent(p,o.isBlock)},insertPara:function(S){var G=this,x=G.editor,P=x.dom,T=x.getDoc(),X=x.settings,H=x.selection.getSel(),I=H.getRangeAt(0),W=T.body;var L,M,J,Q,O,u,p,v,A,o,E,V,q,z,K,N=P.getViewPort(x.getWin()),D,F,C;L=T.createRange();L.setStart(H.anchorNode,H.anchorOffset);L.collapse(e);M=T.createRange();M.setStart(H.focusNode,H.focusOffset);M.collapse(e);J=L.compareBoundaryPoints(L.START_TO_END,M)<0;Q=J?H.anchorNode:H.focusNode;O=J?H.anchorOffset:H.focusOffset;u=J?H.focusNode:H.anchorNode;p=J?H.focusOffset:H.anchorOffset;if(Q===u&&/^(TD|TH)$/.test(Q.nodeName)){if(Q.firstChild.nodeName=="BR"){P.remove(Q.firstChild)}if(Q.childNodes.length==0){x.dom.add(Q,X.element,null,"<br />");V=x.dom.add(Q,X.element,null,"<br />")}else{K=Q.innerHTML;Q.innerHTML="";x.dom.add(Q,X.element,null,K);V=x.dom.add(Q,X.element,null,"<br />")}I=T.createRange();I.selectNodeContents(V);I.collapse(1);x.selection.setRng(I);return i}if(Q==W&&u==W&&W.firstChild&&x.dom.isBlock(W.firstChild)){Q=u=Q.firstChild;O=p=0;L=T.createRange();L.setStart(Q,0);M=T.createRange();M.setStart(u,0)}Q=Q.nodeName=="HTML"?T.body:Q;Q=Q.nodeName=="BODY"?Q.firstChild:Q;u=u.nodeName=="HTML"?T.body:u;u=u.nodeName=="BODY"?u.firstChild:u;v=G.getParentBlock(Q);A=G.getParentBlock(u);o=v?v.nodeName:X.element;if(K=G.dom.getParent(v,"li,pre")){if(K.nodeName=="LI"){return f(x.selection,G.dom,K)}return e}if(v&&(v.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(P.getStyle(v,"position",1)))){o=X.element;v=null}if(A&&(A.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(P.getStyle(v,"position",1)))){o=X.element;A=null}if(/(TD|TABLE|TH|CAPTION)/.test(o)||(v&&o=="DIV"&&/left|right/gi.test(P.getStyle(v,"float",1)))){o=X.element;v=A=null}E=(v&&v.nodeName==o)?v.cloneNode(0):x.dom.create(o);V=(A&&A.nodeName==o)?A.cloneNode(0):x.dom.create(o);V.removeAttribute("id");if(/^(H[1-6])$/.test(o)&&h(I,v)){V=x.dom.create(X.element)}K=q=Q;do{if(K==W||K.nodeType==9||G.dom.isBlock(K)||/(TD|TABLE|TH|CAPTION)/.test(K.nodeName)){break}q=K}while((K=K.previousSibling?K.previousSibling:K.parentNode));K=z=u;do{if(K==W||K.nodeType==9||G.dom.isBlock(K)||/(TD|TABLE|TH|CAPTION)/.test(K.nodeName)){break}z=K}while((K=K.nextSibling?K.nextSibling:K.parentNode));if(q.nodeName==o){L.setStart(q,0)}else{L.setStartBefore(q)}L.setEnd(Q,O);E.appendChild(L.cloneContents()||T.createTextNode(""));try{M.setEndAfter(z)}catch(R){}M.setStart(u,p);V.appendChild(M.cloneContents()||T.createTextNode(""));I=T.createRange();if(!q.previousSibling&&q.parentNode.nodeName==o){I.setStartBefore(q.parentNode)}else{if(L.startContainer.nodeName==o&&L.startOffset==0){I.setStartBefore(L.startContainer)}else{I.setStart(L.startContainer,L.startOffset)}}if(!z.nextSibling&&z.parentNode.nodeName==o){I.setEndAfter(z.parentNode)}else{I.setEnd(M.endContainer,M.endOffset)}I.deleteContents();if(c){x.getWin().scrollTo(0,N.y)}if(E.firstChild&&E.firstChild.nodeName==o){E.innerHTML=E.firstChild.innerHTML}if(V.firstChild&&V.firstChild.nodeName==o){V.innerHTML=V.firstChild.innerHTML}if(g(E)){E.innerHTML="<br />"}function U(y,s){var r=[],Z,Y,t;y.innerHTML="";if(X.keep_styles){Y=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(Y.nodeName)){Z=Y.cloneNode(i);P.setAttrib(Z,"id","");r.push(Z)}}while(Y=Y.parentNode)}if(r.length>0){for(t=r.length-1,Z=y;t>=0;t--){Z=Z.appendChild(r[t])}r[0].innerHTML=c?"\u00a0":"<br />";return r[0]}else{y.innerHTML=c?"\u00a0":"<br />"}}if(g(V)){C=U(V,u)}if(c&&parseFloat(opera.version())<9.5){I.insertNode(E);I.insertNode(V)}else{I.insertNode(V);I.insertNode(E)}V.normalize();E.normalize();function B(r){return T.createTreeWalker(r,NodeFilter.SHOW_TEXT,null,i).nextNode()||r}I=T.createRange();I.selectNodeContents(a?B(C||V):C||V);I.collapse(1);H.removeAllRanges();H.addRange(I);D=x.dom.getPos(V).y;if(D<N.y||D+25>N.y+N.h){x.getWin().scrollTo(0,D<N.y?D:D-N.h+25)}return i},backspaceDelete:function(v,C){var D=this,s=D.editor,z=s.getBody(),q=s.dom,p,u=s.selection,o=u.getRng(),y=o.startContainer,p,A,B,x;if(!C&&o.collapsed&&y.nodeType==1&&o.startOffset==y.childNodes.length){x=new l.dom.TreeWalker(y.lastChild,y);for(p=y.lastChild;p;p=x.prev()){if(p.nodeType==3){o.setStart(p,p.nodeValue.length);o.collapse(true);u.setRng(o);return}}}if(y&&s.dom.isBlock(y)&&!/^(TD|TH)$/.test(y.nodeName)&&C){if(y.childNodes.length==0||(y.childNodes.length==1&&y.firstChild.nodeName=="BR")){p=y;while((p=p.previousSibling)&&!s.dom.isBlock(p)){}if(p){if(y!=z.firstChild){A=s.dom.doc.createTreeWalker(p,NodeFilter.SHOW_TEXT,null,i);while(B=A.nextNode()){p=B}o=s.getDoc().createRange();o.setStart(p,p.nodeValue?p.nodeValue.length:0);o.setEnd(p,p.nodeValue?p.nodeValue.length:0);u.setRng(o);s.dom.remove(y)}return m.cancel(v)}}}}})})(tinymce);(function(b){var c=b.DOM,a=b.dom.Event,d=b.each,e=b.extend;b.create("tinymce.ControlManager",{ControlManager:function(f,j){var h=this,g;j=j||{};h.editor=f;h.controls={};h.onAdd=new b.util.Dispatcher(h);h.onPostRender=new b.util.Dispatcher(h);h.prefix=j.prefix||f.id+"_";h._cls={};h.onPostRender.add(function(){d(h.controls,function(i){i.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(h,f){var g=null;if(g=this.get(h)){g.setActive(f)}return g},setDisabled:function(h,f){var g=null;if(g=this.get(h)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(i){var h,g=this,f=g.editor;d(f.plugins,function(j){if(j.createControl){h=j.createControl(i,g);if(h){return false}}});switch(i){case"|":case"separator":return g.createSeparator()}if(!h&&f.buttons&&(h=f.buttons[i])){return g.createButton(i,h)}return g.add(h)},createDropMenu:function(f,n,h){var m=this,i=m.editor,j,g,k,l;n=e({"class":"mceDropDown",constrain:i.settings.constrain_menus},n);n["class"]=n["class"]+" "+i.getParam("skin")+"Skin";if(k=i.getParam("skin_variant")){n["class"]+=" "+i.getParam("skin")+"Skin"+k.substring(0,1).toUpperCase()+k.substring(1)}f=m.prefix+f;l=h||m._cls.dropmenu||b.ui.DropMenu;j=m.controls[f]=new l(f,n);j.onAddItem.add(function(r,q){var p=q.settings;p.title=i.getLang(p.title,p.title);if(!p.onclick){p.onclick=function(o){if(p.cmd){i.execCommand(p.cmd,p.ui||false,p.value)}}}});i.onRemove.add(function(){j.destroy()});if(b.isIE){j.onShowMenu.add(function(){i.focus();g=i.selection.getBookmark(1)});j.onHideMenu.add(function(){if(g){i.selection.moveToBookmark(g);g=0}})}return m.add(j)},createListBox:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.scope=i.scope||g;if(!i.onselect){i.onselect=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}i=e({title:i.title,"class":"mce_"+m,scope:i.scope,control_manager:h},i);m=h.prefix+m;if(g.settings.use_native_selects){k=new b.ui.NativeListBox(m,i)}else{f=l||h._cls.listbox||b.ui.ListBox;k=new f(m,i,g)}h.controls[m]=k;if(b.isWebKit){k.onPostRender.add(function(p,o){a.add(o,"mousedown",function(){g.bookmark=g.selection.getBookmark(1)});a.add(o,"focus",function(){g.selection.moveToBookmark(g.bookmark);g.bookmark=null})})}if(k.hideMenu){g.onMouseDown.add(k.hideMenu,k)}return h.add(k)},createButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.label=g.translate(i.label);i.scope=i.scope||g;if(!i.onclick&&!i.menu_button){i.onclick=function(){g.execCommand(i.cmd,i.ui||false,i.value)}}i=e({title:i.title,"class":"mce_"+m,unavailable_prefix:g.getLang("unavailable",""),scope:i.scope,control_manager:h},i);m=h.prefix+m;if(i.menu_button){f=l||h._cls.menubutton||b.ui.MenuButton;k=new f(m,i,g);g.onMouseDown.add(k.hideMenu,k)}else{f=h._cls.button||b.ui.Button;k=new f(m,i)}return h.add(k)},createMenuButton:function(h,f,g){f=f||{};f.menu_button=1;return this.createButton(h,f,g)},createSplitButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.scope=i.scope||g;if(!i.onclick){i.onclick=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}if(!i.onselect){i.onselect=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}i=e({title:i.title,"class":"mce_"+m,scope:i.scope,control_manager:h},i);m=h.prefix+m;f=l||h._cls.splitbutton||b.ui.SplitButton;k=h.add(new f(m,i,g));g.onMouseDown.add(k.hideMenu,k);return k},createColorSplitButton:function(f,n,i){var m=this,j=m.editor,h,k,l,g;if(m.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onclick){n.onclick=function(o){if(b.isIE){g=j.selection.getBookmark(1)}j.execCommand(n.cmd,n.ui||false,o||n.value)}}if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,"class":"mce_"+f,menu_class:j.getParam("skin")+"Skin",scope:n.scope,more_colors_title:j.getLang("more_colors")},n);f=m.prefix+f;l=i||m._cls.colorsplitbutton||b.ui.ColorSplitButton;k=new l(f,n,j);j.onMouseDown.add(k.hideMenu,k);j.onRemove.add(function(){k.destroy()});if(b.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return m.add(k)},createToolbar:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||g._cls.toolbar||b.ui.Toolbar;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createToolbarGroup:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||this._cls.toolbarGroup||b.ui.ToolbarGroup;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createSeparator:function(g){var f=g||this._cls.separator||b.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(b){var a=b.util.Dispatcher,e=b.each,d=b.isIE,c=b.isOpera;b.create("tinymce.WindowManager",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(z,h){var v=this,k="",n,m,i=v.editor.settings.dialog_type=="modal",q,o,j,g=b.DOM.getViewPort(),r;z=z||{};h=h||{};o=c?g.w:screen.width;j=c?g.h:screen.height;z.name=z.name||"mc_"+new Date().getTime();z.width=parseInt(z.width||320);z.height=parseInt(z.height||240);z.resizable=true;z.left=z.left||parseInt(o/2)-(z.width/2);z.top=z.top||parseInt(j/2)-(z.height/2);h.inline=false;h.mce_width=z.width;h.mce_height=z.height;h.mce_auto_focus=z.auto_focus;if(i){if(d){z.center=true;z.help=false;z.dialogWidth=z.width+"px";z.dialogHeight=z.height+"px";z.scroll=z.scrollbars||false}}e(z,function(p,f){if(b.is(p,"boolean")){p=p?"yes":"no"}if(!/^(name|url)$/.test(f)){if(d&&i){k+=(k?";":"")+f+":"+p}else{k+=(k?",":"")+f+"="+p}}});v.features=z;v.params=h;v.onOpen.dispatch(v,z,h);r=z.url||z.file;r=b._addVer(r);try{if(d&&i){q=1;window.showModalDialog(r,window,k)}else{q=window.open(r,z.name,k)}}catch(l){}if(!q){alert(v.editor.getLang("popup_blocked"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(i,h,g,m,l,k){var j=b.resolve(i);return new j(h,g,m,l,k)},confirm:function(h,f,i,g){g=g||window;f.call(i||this,g.confirm(this._decode(this.editor.getLang(h,h))))},alert:function(h,f,j,g){var i=this;g=g||window;g.alert(i._decode(i.editor.getLang(h,h)));if(f){f.call(j||i)}},resizeBy:function(f,g,h){h.resizeBy(f,g)},_decode:function(f){return b.DOM.decode(f).replace(/\\n/g,"\n")}})}(tinymce));(function(a){a.Formatter=function(T){var i={},L=a.each,c=T.dom,G=T.selection,E=a.dom.TreeWalker,j=new a.dom.RangeUtils(c),d=T.schema.isValidChild,B=c.isBlock,k=T.settings.forced_root_block,q=c.nodeIndex,u="\uFEFF",e=/^(src|href|style)$/,Q=false,A=true,H,M={apply:[],remove:[]};function y(U){return U instanceof Array}function l(V,U){return c.getParents(V,U,c.getRoot())}function b(U){return U.nodeType===1&&(U.face==="mceinline"||U.style.fontFamily==="mceinline")}function P(U){return U?i[U]:i}function J(U,V){if(U){if(typeof(U)!=="string"){L(U,function(X,W){J(W,X)})}else{V=V.length?V:[V];L(V,function(W){if(W.deep===H){W.deep=!W.selector}if(W.split===H){W.split=!W.selector||W.inline}if(W.remove===H&&W.selector&&!W.inline){W.remove="none"}if(W.selector&&W.inline){W.mixed=true;W.block_expand=true}if(typeof(W.classes)==="string"){W.classes=W.classes.split(/\s+/)}});i[U]=V}}}function R(W,ac,Y){var Z=P(W),ae=Z[0],ab,V,aa;function X(af){var ah=af.startContainer,aj=af.startOffset,ai,ag;if(ah.nodeType==1||ah.nodeValue===""){ah=ah.nodeType==1?ah.childNodes[aj]:ah;if(ah){ai=new E(ah,ah.parentNode);for(ag=ai.current();ag;ag=ai.next()){if(ag.nodeType==3&&!O(ag)){af.setStart(ag,0);break}}}}return af}function U(ag,af){af=af||ae;if(ag){L(af.styles,function(ai,ah){c.setStyle(ag,ah,p(ai,ac))});L(af.attributes,function(ai,ah){c.setAttrib(ag,ah,p(ai,ac))});L(af.classes,function(ah){ah=p(ah,ac);if(!c.hasClass(ag,ah)){c.addClass(ag,ah)}})}}function ad(af){var ah=[],ai,ag;ai=ae.inline||ae.block;ag=c.create(ai);U(ag);j.walk(af,function(aj){var ak;function al(am){var ap=am.nodeName.toLowerCase(),ao=am.parentNode.nodeName.toLowerCase(),an;if(f(ap,"br")){ak=0;if(ae.block){c.remove(am)}return}if(ae.wrapper&&t(am,W,ac)){ak=0;return}if(ae.block&&!ae.wrapper&&C(ap)){am=c.rename(am,ai);U(am);ah.push(am);ak=0;return}if(ae.selector){L(Z,function(aq){if(c.is(am,aq.selector)&&!b(am)){U(am,aq);an=true}});if(!ae.inline||an){ak=0;return}}if(d(ai,ap)&&d(ao,ai)&&!(am.nodeType===3&&am.nodeValue.length===1&&am.nodeValue.charCodeAt(0)===65279)){if(!ak){ak=ag.cloneNode(Q);am.parentNode.insertBefore(ak,am);ah.push(ak)}ak.appendChild(am)}else{ak=0;L(a.grep(am.childNodes),al);ak=0}}L(aj,al)});if(ae.wrap_links===false){L(ah,function(aj){function ak(ao){var an,am,al;if(ao.nodeName==="A"){am=ag.cloneNode(Q);ah.push(am);al=a.grep(ao.childNodes);for(an=0;an<al.length;an++){am.appendChild(al[an])}ao.appendChild(am)}L(a.grep(ao.childNodes),ak)}ak(aj)})}L(ah,function(al){var aj;function am(ao){var an=0;L(ao.childNodes,function(ap){if(!O(ap)&&!F(ap)){an++}});return an}function ak(an){var ap,ao;L(an.childNodes,function(aq){if(aq.nodeType==1&&!F(aq)&&!b(aq)){ap=aq;return Q}});if(ap&&g(ap,ae)){ao=ap.cloneNode(Q);U(ao);c.replace(ao,an,A);c.remove(ap,1)}return ao||an}aj=am(al);if((ah.length>1||!B(al))&&aj===0){c.remove(al,1);return}if(ae.inline||ae.wrapper){if(!ae.exact&&aj===1){al=ak(al)}L(Z,function(an){L(c.select(an.inline,al),function(ap){var ao;if(an.wrap_links===false){ao=ap.parentNode;do{if(ao.nodeName==="A"){return}}while(ao=ao.parentNode)}S(an,ac,ap,an.exact?ap:null)})});if(t(al.parentNode,W,ac)){c.remove(al,1);al=0;return A}if(ae.merge_with_parents){c.getParent(al.parentNode,function(an){if(t(an,W,ac)){c.remove(al,1);al=0;return A}})}if(al){al=D(s(al),al);al=D(al,s(al,A))}}})}if(ae){if(Y){V=c.createRng();V.setStartBefore(Y);V.setEndAfter(Y);ad(o(V,Z))}else{if(!G.isCollapsed()||!ae.inline||c.select("td.mceSelected,th.mceSelected").length){ab=G.getBookmark();ad(o(G.getRng(A),Z));G.moveToBookmark(ab);G.setRng(X(G.getRng(A)));T.nodeChanged()}else{N("apply",W,ac)}}}}function x(W,af,Y){var aa=P(W),ai=aa[0],ae,ac,V;function X(aj){var an=aj.startContainer,ap=aj.startOffset,ao,am,al,ak;if(an.nodeType==3&&ap>=an.nodeValue.length-1){an=an.parentNode;ap=q(an)+1}if(an.nodeType==1){al=an.childNodes;an=al[Math.min(ap,al.length-1)];ao=new E(an);if(ap>al.length-1){ao.next()}for(am=ao.current();am;am=ao.next()){if(am.nodeType==3&&!O(am)){ak=c.create("a",null,u);am.parentNode.insertBefore(ak,am);aj.setStart(am,0);G.setRng(aj);c.remove(ak);return}}}}function ad(am){var al,ak,aj;al=a.grep(am.childNodes);for(ak=0,aj=aa.length;ak<aj;ak++){if(S(aa[ak],af,am,am)){break}}if(ai.deep){for(ak=0,aj=al.length;ak<aj;ak++){ad(al[ak])}}}function ab(ak){var aj;L(l(ak.parentNode).reverse(),function(al){var am;if(!aj&&al.id!="_start"&&al.id!="_end"){am=t(al,W,af);if(am&&am.split!==false){aj=al}}});return aj}function U(al,ap,aj,aq){var at,ar,ao,an,am,ak;if(al){ak=al.parentNode;for(at=ap.parentNode;at&&at!=ak;at=at.parentNode){ar=at.cloneNode(Q);for(am=0;am<aa.length;am++){if(S(aa[am],af,ar,ar)){ar=0;break}}if(ar){if(ao){ar.appendChild(ao)}if(!an){an=ar}ao=ar}}if(aq&&(!ai.mixed||!B(al))){ap=c.split(al,ap)}if(ao){aj.parentNode.insertBefore(ao,aj);an.appendChild(aj)}}return ap}function ag(aj){return U(ab(aj),aj,aj,true)}function Z(al){var ak=c.get(al?"_start":"_end"),aj=ak[al?"firstChild":"lastChild"];if(F(aj)){aj=aj[al?"firstChild":"lastChild"]}c.remove(ak,true);return aj}function ah(al){var ak,aj;al=o(al,aa,A);if(ai.split){ak=n(al,A);aj=n(al);if(ak!=aj){ak=K(ak,"span",{id:"_start","data-mce-type":"bookmark"});aj=K(aj,"span",{id:"_end","data-mce-type":"bookmark"});ag(ak);ag(aj);ak=Z(A);aj=Z()}else{ak=aj=ag(ak)}al.startContainer=ak.parentNode;al.startOffset=q(ak);al.endContainer=aj.parentNode;al.endOffset=q(aj)+1}j.walk(al,function(am){L(am,function(an){ad(an)})})}if(Y){V=c.createRng();V.setStartBefore(Y);V.setEndAfter(Y);ah(V);return}if(!G.isCollapsed()||!ai.inline||c.select("td.mceSelected,th.mceSelected").length){ae=G.getBookmark();ah(G.getRng(A));G.moveToBookmark(ae);if(h(W,af,G.getStart())){X(G.getRng(true))}T.nodeChanged()}else{N("remove",W,af)}}function v(U,W,V){if(h(U,W,V)){x(U,W,V)}else{R(U,W,V)}}function t(V,U,aa,Y){var X=P(U),ac,Z,W;function ab(ag,aj,ai){var af,ah,ad=aj[ai],ae;if(ad){if(ad.length===H){for(af in ad){if(ad.hasOwnProperty(af)){if(ai==="attributes"){ah=c.getAttrib(ag,af)}else{ah=I(ag,af)}if(Y&&!ah&&!aj.exact){return}if((!Y||aj.exact)&&!f(ah,p(ad[af],aa))){return}}}}else{for(ae=0;ae<ad.length;ae++){if(ai==="attributes"?c.getAttrib(ag,ad[ae]):I(ag,ad[ae])){return aj}}}}return aj}if(X&&V){for(Z=0;Z<X.length;Z++){ac=X[Z];if(g(V,ac)&&ab(V,ac,"attributes")&&ab(V,ac,"styles")){if(W=ac.classes){for(Z=0;Z<W.length;Z++){if(!c.hasClass(V,W[Z])){return}}}return ac}}}}function h(V,Z,Y){var X,W;function U(aa){aa=c.getParent(aa,function(ab){return !!t(ab,V,Z,true)});return t(aa,V,Z)}if(Y){return U(Y)}if(G.isCollapsed()){for(W=M.apply.length-1;W>=0;W--){if(M.apply[W].name==V){return true}}for(W=M.remove.length-1;W>=0;W--){if(M.remove[W].name==V){return false}}return U(G.getNode())}Y=G.getNode();if(U(Y)){return A}X=G.getStart();if(X!=Y){if(U(X)){return A}}return Q}function r(ab,aa){var W,U=[],V={},Z,Y,X;if(G.isCollapsed()){for(Y=0;Y<ab.length;Y++){for(Z=M.remove.length-1;Z>=0;Z--){X=ab[Y];if(M.remove[Z].name==X){V[X]=true;break}}}for(Z=M.apply.length-1;Z>=0;Z--){for(Y=0;Y<ab.length;Y++){X=ab[Y];if(!V[X]&&M.apply[Z].name==X){V[X]=true;U.push(X)}}}}W=G.getStart();c.getParent(W,function(ae){var ad,ac;for(ad=0;ad<ab.length;ad++){ac=ab[ad];if(!V[ac]&&t(ae,ac,aa)){V[ac]=true;U.push(ac)}}});return U}function z(W){var aa=P(W),Z,Y,X,V,U;if(aa){Z=G.getStart();Y=l(Z);for(V=aa.length-1;V>=0;V--){U=aa[V].selector;if(!U){return A}for(X=Y.length-1;X>=0;X--){if(c.is(Y[X],U)){return A}}}}return Q}a.extend(this,{get:P,register:J,apply:R,remove:x,toggle:v,match:h,matchAll:r,matchNode:t,canApply:z});function g(U,V){if(f(U,V.inline)){return A}if(f(U,V.block)){return A}if(V.selector){return c.is(U,V.selector)}}function f(V,U){V=V||"";U=U||"";V=""+(V.nodeName||V);U=""+(U.nodeName||U);return V.toLowerCase()==U.toLowerCase()}function I(V,U){var W=c.getStyle(V,U);if(U=="color"||U=="backgroundColor"){W=c.toHex(W)}if(U=="fontWeight"&&W==700){W="bold"}return""+W}function p(U,V){if(typeof(U)!="string"){U=U(V)}else{if(V){U=U.replace(/%(\w+)/g,function(X,W){return V[W]||X})}}return U}function O(U){return U&&U.nodeType===3&&/^([\s\r\n]+|)$/.test(U.nodeValue)}function K(W,V,U){var X=c.create(V,U);W.parentNode.insertBefore(X,W);X.appendChild(W);return X}function o(U,af,W){var Y=U.startContainer,V=U.startOffset,ab=U.endContainer,aa=U.endOffset,ad,ae;function ac(aj,ai,ak,ag){var ah,al;ag=ag||c.getRoot();for(;;){ah=aj.parentNode;if(ah==ag||(!af[0].block_expand&&B(ah))){return aj}for(ad=ah[ai];ad&&ad!=aj;ad=ad[ak]){if(ad.nodeType==1&&!F(ad)){return aj}if(ad.nodeType==3&&!O(ad)){return aj}}aj=aj.parentNode}return aj}if(Y.nodeType==1&&Y.hasChildNodes()){ae=Y.childNodes.length-1;Y=Y.childNodes[V>ae?ae:V];if(Y.nodeType==3){V=0}}if(ab.nodeType==1&&ab.hasChildNodes()){ae=ab.childNodes.length-1;ab=ab.childNodes[aa>ae?ae:aa-1];if(ab.nodeType==3){aa=ab.nodeValue.length}}if(F(Y.parentNode)){Y=Y.parentNode}if(F(Y)){Y=Y.nextSibling||Y}if(F(ab.parentNode)){ab=ab.parentNode}if(F(ab)){ab=ab.previousSibling||ab}if(af[0].inline||af[0].block_expand){Y=ac(Y,"firstChild","nextSibling");ab=ac(ab,"lastChild","previousSibling")}if(af[0].selector&&af[0].expand!==Q&&!af[0].inline){function Z(ai,aj){var ah,ag,ak;if(ai.nodeType==3&&ai.nodeValue.length==0&&ai[aj]){ai=ai[aj]}ah=l(ai);for(ag=0;ag<ah.length;ag++){for(ak=0;ak<af.length;ak++){if(c.is(ah[ag],af[ak].selector)){return ah[ag]}}}return ai}Y=Z(Y,"previousSibling");ab=Z(ab,"nextSibling")}if(af[0].block||af[0].selector){function X(ai,aj,ag){var ah;if(!af[0].wrapper){ah=c.getParent(ai,af[0].block)}if(!ah){ah=c.getParent(ai.nodeType==3?ai.parentNode:ai,B)}if(ah&&af[0].wrapper){ah=l(ah,"ul,ol").reverse()[0]||ah}if(!ah){ah=ai;while(ah[aj]&&!B(ah[aj])){ah=ah[aj];if(f(ah,"br")){break}}}return ah||ai}Y=X(Y,"previousSibling");ab=X(ab,"nextSibling");if(af[0].block){if(!B(Y)){Y=ac(Y,"firstChild","nextSibling")}if(!B(ab)){ab=ac(ab,"lastChild","previousSibling")}}}if(Y.nodeType==1){V=q(Y);Y=Y.parentNode}if(ab.nodeType==1){aa=q(ab)+1;ab=ab.parentNode}return{startContainer:Y,startOffset:V,endContainer:ab,endOffset:aa}}function S(aa,Y,X,U){var W,V,Z;if(!g(X,aa)){return Q}if(aa.remove!="all"){L(aa.styles,function(ac,ab){ac=p(ac,Y);if(typeof(ab)==="number"){ab=ac;U=0}if(!U||f(I(U,ab),ac)){c.setStyle(X,ab,"")}Z=1});if(Z&&c.getAttrib(X,"style")==""){X.removeAttribute("style");X.removeAttribute("data-mce-style")}L(aa.attributes,function(ad,ac){var ab;ad=p(ad,Y);if(typeof(ac)==="number"){ac=ad;U=0}if(!U||f(c.getAttrib(U,ac),ad)){if(ac=="class"){ad=c.getAttrib(X,ac);if(ad){ab="";L(ad.split(/\s+/),function(ae){if(/mce\w+/.test(ae)){ab+=(ab?" ":"")+ae}});if(ab){c.setAttrib(X,ac,ab);return}}}if(ac=="class"){X.removeAttribute("className")}if(e.test(ac)){X.removeAttribute("data-mce-"+ac)}X.removeAttribute(ac)}});L(aa.classes,function(ab){ab=p(ab,Y);if(!U||c.hasClass(U,ab)){c.removeClass(X,ab)}});V=c.getAttribs(X);for(W=0;W<V.length;W++){if(V[W].nodeName.indexOf("_")!==0){return Q}}}if(aa.remove!="none"){m(X,aa);return A}}function m(V,Y){var W=V.parentNode,U;if(Y.block){if(!k){function X(aa,Z,ab){aa=s(aa,Z,ab);return !aa||(aa.nodeName=="BR"||B(aa))}if(B(V)&&!B(W)){if(!X(V,Q)&&!X(V.firstChild,A,1)){V.insertBefore(c.create("br"),V.firstChild)}if(!X(V,A)&&!X(V.lastChild,Q,1)){V.appendChild(c.create("br"))}}}else{if(W==c.getRoot()){if(!Y.list_block||!f(V,Y.list_block)){L(a.grep(V.childNodes),function(Z){if(d(k,Z.nodeName.toLowerCase())){if(!U){U=K(Z,k)}else{U.appendChild(Z)}}else{U=0}})}}}}if(Y.selector&&Y.inline&&!f(Y.inline,V)){return}c.remove(V,1)}function s(V,U,W){if(V){U=U?"nextSibling":"previousSibling";for(V=W?V:V[U];V;V=V[U]){if(V.nodeType==1||!O(V)){return V}}}}function F(U){return U&&U.nodeType==1&&U.getAttribute("data-mce-type")=="bookmark"}function D(Y,W){var X,V,U;function aa(ad,ac){if(ad.nodeName!=ac.nodeName){return Q}function ab(af){var ag={};L(c.getAttribs(af),function(ah){var ai=ah.nodeName.toLowerCase();if(ai.indexOf("_")!==0&&ai!=="style"){ag[ai]=c.getAttrib(af,ai)}});return ag}function ae(ai,ah){var ag,af;for(af in ai){if(ai.hasOwnProperty(af)){ag=ah[af];if(ag===H){return Q}if(ai[af]!=ag){return Q}delete ah[af]}}for(af in ah){if(ah.hasOwnProperty(af)){return Q}}return A}if(!ae(ab(ad),ab(ac))){return Q}if(!ae(c.parseStyle(c.getAttrib(ad,"style")),c.parseStyle(c.getAttrib(ac,"style")))){return Q}return A}if(Y&&W){function Z(ab,ac){for(V=ab;V;V=V[ac]){if(V.nodeType==3&&!O(V)){return ab}if(V.nodeType==1&&!F(V)){return V}}return ab}Y=Z(Y,"previousSibling");W=Z(W,"nextSibling");if(aa(Y,W)){for(V=Y.nextSibling;V&&V!=W;){U=V;V=V.nextSibling;Y.appendChild(U)}c.remove(W);L(a.grep(W.childNodes),function(ab){Y.appendChild(ab)});return Y}}return W}function C(U){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(U)}function n(U,Y){var V,W,X;V=U[Y?"startContainer":"endContainer"];W=U[Y?"startOffset":"endOffset"];if(V.nodeType==1){X=V.childNodes.length-1;if(!Y&&W){W--}V=V.childNodes[W>X?X:W]}return V}function N(Z,U,Y){var X,V=M[Z],aa=M[Z=="apply"?"remove":"apply"];function ac(){return M.apply.length||M.remove.length}function W(){M.apply=[];M.remove=[]}function ab(ad){L(M.apply.reverse(),function(ae){R(ae.name,ae.vars,ad)});L(M.remove.reverse(),function(ae){x(ae.name,ae.vars,ad)});c.remove(ad,1);W()}for(X=V.length-1;X>=0;X--){if(V[X].name==U){return}}V.push({name:U,vars:Y});for(X=aa.length-1;X>=0;X--){if(aa[X].name==U){aa.splice(X,1)}}if(ac()){T.getDoc().execCommand("FontName",false,"mceinline");M.lastRng=G.getRng();L(c.select("font,span"),function(ae){var ad;if(b(ae)){ad=G.getBookmark();ab(ae);G.moveToBookmark(ad);T.nodeChanged()}});if(!M.isListening&&ac()){M.isListening=true;L("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(ad){T[ad].addToTop(function(ae,af){if(ac()&&!a.dom.RangeUtils.compareRanges(M.lastRng,G.getRng())){L(c.select("font,span"),function(ah){var ai,ag;if(b(ah)){ai=ah.firstChild;if(ai){ab(ah);ag=c.createRng();ag.setStart(ai,ai.nodeValue.length);ag.setEnd(ai,ai.nodeValue.length);G.setRng(ag);ae.nodeChanged()}else{c.remove(ah)}}});if(af.type=="keyup"||af.type=="mouseup"){W()}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(b,c){var a,g,h,e=c.settings;if(e.inline_styles){g=b.explode(e.font_size_style_values);function d(j,i){b.each(i,function(l,k){if(l){h.setStyle(j,k,l)}});h.rename(j,"span")}a={font:function(j,i){d(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:g[parseInt(i.size)-1]})},u:function(j,i){d(i,{textDecoration:"underline"})},strike:function(j,i){d(i,{textDecoration:"line-through"})}};function f(i,j){h=i.dom;if(e.convert_fonts_to_spans){b.each(h.select("font,u,strike",j.node),function(k){a[k.nodeName.toLowerCase()](c.dom,k)})}}c.onPreProcess.add(f);c.onSetContent.add(f);c.onInit.add(function(){c.selection.onSetContent.add(f)})}});