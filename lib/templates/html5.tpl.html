<?php
/*
>> General tags (replace '(' with '{' when using them - using the 'active' version within this comment will cause severe trouble, depending on the substituted content of the variables!)
- (%urlpage%)       | The current filename that is being shown
- (%title%)         | Use this tag within your <title></title> tag for optimal SEO
- (%pagetitle%)     | Displays the current pagetitle (good for a <h1> tag)
- (%subheader%)     | A short slogan, descriptive text for the current page (<h2>)
- (%sitename%)      | Use this anywhere you want to show your sitename
- (%desc%)          | An "extensive" description of the current page
- (%keywords%)      | Keywords (tags) for the current page as specified per file
- (%breadcrumb%)    | Show the breadcrumb/pathway to the current file
- (%printable%)     | Use as: (%IF printable (eq Y)%)<a href="print/(%urlpage%).html">Print</a>(%/IF printable%)
    
>> Menu items
- (%mainmenu%)      | Prints an ordered list (<ul>) with all files in specified menu
- (%leftmenu%)      | ''
- (%rightmenu%)     | ''
- (%footermenu%)    | ''
- (%extramenu%)     | ''
    
>> Content tag
- (%content%)       | The content from the current file that is being requested

See below for a simple example that uses all of the tags listed above.

-- Template design by Webdezign.co.uk

*/
?>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{%title%}</title>
<link rel="stylesheet" href="{%rootdir%}lib/templates/html5/style.css" />
</head>

<body>

<header>
    <hgroup>
        <h1>{%pagetitle%}</h1>
    </hgroup>
    <nav>
		{%mainmenu%}
    </nav>
    <a href="#" title="{%sitename%}"><img src="{%rootdir%}lib/templates/html5/logo.png" alt="{%sitename%}" /></a>
</header>

<section id="left">
	<h1>Left menu</h1>
    {%leftmenu%}
</section>

<article>
	<h1>{%subheader%}</h1>
    {%content%}
</article>

<section id="right">
	<h1>Right menu</h2>
	{%rightmenu%}
</section>

<footer>
	<p>&copy; <?php echo date('Y'); ?> {%sitename%}</p>
		<!-- Support me by keeping this link (it's not visible to your visitors!). It will help my search engine ranking. -->
		<div style="display: none;"><a href="http://www.compactcms.nl">Maintained with CompactCMS.nl</a></div>
		<!-- That's it! Of course you're free to show off CompactCMS anywhere on your website -->
	<p>{%footermenu%}</p>
</footer>



<?php
if ($cfg['IN_DEVELOPMENT_ENVIRONMENT'])
{
?>
	<textarea id="jslog" class="log span-25" readonly="readonly">
	</textarea>
<?php
}
?>
<script type="text/javascript">
<?php

// Mark the JS sourcefiles needed by this template itself:
//if (IE)
//{
//	$ccms['JS.required_files']['http://html5shiv.googlecode.com/svn/trunk/html5.js'] = true;
//}
$ccms['JS.required_files']['html5.js?only-when=%3d%3d+IE'] = 0; // the first to load!

//$ccms['JS.required_files']['{%rootdir%}lib/includes/js/mootools-core.js'] = count($ccms['JS.required_files']); // make sure the value is a nicely unique sequence number: count() is good for that.
//$ccms['JS.required_files']['{%rootdir%}lib/includes/js/mootools-more.js'] = count($ccms['JS.required_files']); // make sure the value is a nicely unique sequence number: count() is good for that.

$js_files = array();
if (array_key_exists('JS.required_files', $ccms))
{
	foreach($ccms['JS.required_files'] as $jsfkey => $dummy)
	{
		if (!empty($jsfkey))
		{
			$js_files[] = $jsfkey;
		}
	}
}

$driver_code = <<<EOT
EOT;

if (array_key_exists('JS.done', $ccms))
{
	$driver_code .= implode("\n\n", $ccms['JS.done']);
}

echo generateJS4lazyloadDriver($js_files, $driver_code);
?>
</script>
<script type="text/javascript" src="{%rootdir%}lib/includes/js/lazyload/lazyload.js" charset="utf-8"></script>
</body>
</html>
